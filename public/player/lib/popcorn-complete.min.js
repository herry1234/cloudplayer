/*
 * popcorn.js version 92905c6
 * http://popcornjs.org
 *
 * Copyright 2011, Mozilla Foundation
 * Licensed under the MIT license
 */

(function(p,f){function m(a){D.put.call(this,a)}function e(a){this.parent=a;this.byStart=[{start:-1,end:-1}];this.byEnd=[{start:-1,end:-1}];this.animating=[];this.endIndex=this.startIndex=0;this.previousUpdateTime=-1;Object.defineProperty(this,"count",{get:function(){return this.byStart.length}})}function c(a,b){return function(){if(d.plugin.debug)return a.apply(this,arguments);try{return a.apply(this,arguments)}catch(o){d.plugin.errors.push({plugin:b,thrown:o,source:a.toString()});this.emit("pluginerror",
d.plugin.errors)}}}if(f.addEventListener){var g=Array.prototype,h=Object.prototype,i=g.forEach,j=g.slice,q=h.hasOwnProperty,k=h.toString,s=p.Popcorn,n=[],r=false,u={events:{hash:{},apis:{}}},E=function(){return p.requestAnimationFrame||p.webkitRequestAnimationFrame||p.mozRequestAnimationFrame||p.oRequestAnimationFrame||p.msRequestAnimationFrame||function(a){p.setTimeout(a,16)}}(),D={put:function(a){Object.getOwnPropertyNames(a).forEach(function(b){this[b]=a[b]},this)}},d=function(a,b){return new d.p.init(a,
b||null)};d.version="92905c6";d.isSupported=true;d.instances=[];d.p=d.prototype={init:function(a,b){var o,l=this;if(typeof a==="function")if(f.readyState==="complete")a(f,d);else{n.push(a);if(!r){r=true;var w=function(){f.removeEventListener("DOMContentLoaded",w,false);for(var G=0,v=n.length;G<v;G++)n[G].call(f,d);n=null};f.addEventListener("DOMContentLoaded",w,false)}}else{if(typeof a==="string")try{o=f.querySelector(a)}catch(y){throw Error("Popcorn.js Error: Invalid media element selector: "+a);
}this.media=o||a;o=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video";this[o]=this.media;this.options=d.extend({},b)||{};this.id=this.options.id||d.guid(o);if(d.byId(this.id))throw Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=false;this.data={running:{cue:[]},timeUpdate:d.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new e(this)};d.instances.push(this);var A=function(){if(l.media.currentTime<
0)l.media.currentTime=0;l.media.removeEventListener("loadedmetadata",A,false);var G,v,z,B,t;G=l.media.duration;G=G!=G?Number.MAX_VALUE:G+1;d.addTrackEvent(l,{start:G,end:G});if(!l.isDestroyed){l.data.durationChange=function(){var x=l.media.duration,O=l.data.trackEvents.byStart,J=l.data.trackEvents.byEnd;O.pop();J.pop();for(var L=J.length-1;L>0;L--)J[L].end>x&&l.removeTrackEvent(J[L]._id);for(J=0;J<O.length;J++)O[J].end>x&&l.removeTrackEvent(O[J]._id);l.data.trackEvents.byEnd.push({start:x,end:x});
l.data.trackEvents.byStart.push({start:x,end:x})};l.media.addEventListener("durationchange",l.data.durationChange,false)}if(l.options.frameAnimation){l.data.timeUpdate=function(){d.timeUpdate(l,{});d.forEach(d.manifest,function(x,O){if(v=l.data.running[O]){B=v.length;for(var J=0;J<B;J++){z=v[J];(t=z._natives)&&t.frame&&t.frame.call(l,{},z,l.currentTime())}}});l.emit("timeupdate");!l.isDestroyed&&E(l.data.timeUpdate)};!l.isDestroyed&&E(l.data.timeUpdate)}else{l.data.timeUpdate=function(x){d.timeUpdate(l,
x)};l.isDestroyed||l.media.addEventListener("timeupdate",l.data.timeUpdate,false)}};Object.defineProperty(this,"error",{get:function(){return l.media.error}});l.media.readyState>=1?A():l.media.addEventListener("loadedmetadata",A,false);return this}}};d.p.init.prototype=d.p;d.byId=function(a){for(var b=d.instances,o=b.length,l=0;l<o;l++)if(b[l].id===a)return b[l];return null};d.forEach=function(a,b,o){if(!a||!b)return{};o=o||this;var l,w;if(i&&a.forEach===i)return a.forEach(b,o);if(k.call(a)==="[object NodeList]"){l=
0;for(w=a.length;l<w;l++)b.call(o,a[l],l,a);return a}for(l in a)q.call(a,l)&&b.call(o,a[l],l,a);return a};d.extend=function(a){var b=j.call(arguments,1);d.forEach(b,function(o){for(var l in o)a[l]=o[l]});return a};d.extend(d,{noConflict:function(a){if(a)p.Popcorn=s;return d},error:function(a){throw Error(a);},guid:function(a){d.guid.counter++;return(a?a:"")+(+new Date+d.guid.counter)},sizeOf:function(a){var b=0,o;for(o in a)b++;return b},isArray:Array.isArray||function(a){return k.call(a)==="[object Array]"},
nop:function(){},position:function(a){if(!a.parentNode)return null;a=a.getBoundingClientRect();var b={},o=f.documentElement,l=f.body,w,y,A;w=o.clientTop||l.clientTop||0;y=o.clientLeft||l.clientLeft||0;A=p.pageYOffset&&o.scrollTop||l.scrollTop;o=p.pageXOffset&&o.scrollLeft||l.scrollLeft;w=Math.ceil(a.top+A-w);y=Math.ceil(a.left+o-y);for(var G in a)b[G]=Math.round(a[G]);return d.extend({},b,{top:w,left:y})},disable:function(a,b){if(!a.data.disabled[b]){a.data.disabled[b]=true;if(b in d.registryByName&&
a.data.running[b])for(var o=a.data.running[b].length-1,l;o>=0;o--){l=a.data.running[b][o];l._natives.end.call(a,null,l);a.emit("trackend",d.extend({},l,{plugin:l.type,type:"trackend"}))}return a}},enable:function(a,b){if(a.data.disabled[b]){a.data.disabled[b]=false;if(b in d.registryByName&&a.data.running[b])for(var o=a.data.running[b].length-1,l;o>=0;o--){l=a.data.running[b][o];l._natives.start.call(a,null,l);a.emit("trackstart",d.extend({},l,{plugin:l.type,type:"trackstart",track:l}))}return a}},
destroy:function(a){var b=a.data.events,o=a.data.trackEvents,l,w,y,A;for(w in b){l=b[w];for(y in l)delete l[y];b[w]=null}for(A in d.registryByName)d.removePlugin(a,A);o.byStart.length=0;o.byEnd.length=0;if(!a.isDestroyed){a.data.timeUpdate&&a.media.removeEventListener("timeupdate",a.data.timeUpdate,false);a.isDestroyed=true}d.instances.splice(d.instances.indexOf(a),1)}});d.guid.counter=1;d.extend(d.p,function(){var a={};d.forEach("load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended".split(/\s+/g),
function(b){a[b]=function(o){var l;if(typeof this.media[b]==="function"){if(o!=null&&/play|pause/.test(b))this.media.currentTime=d.util.toSeconds(o);this.media[b]();return this}if(o!=null){l=this.media[b];this.media[b]=o;l!==o&&this.emit("attrchange",{attribute:b,previousValue:l,currentValue:o});return this}return this.media[b]}});return a}());d.forEach("enable disable".split(" "),function(a){d.p[a]=function(b){return d[a](this,b)}});d.extend(d.p,{roundTime:function(){return Math.round(this.media.currentTime)},
exec:function(a,b,o){var l=arguments.length,w="trackadded",y,A;try{A=d.util.toSeconds(a)}catch(G){}if(typeof A==="number")a=A;if(typeof a==="number"&&l===2){o=b;b=a;a=d.guid("cue")}else if(l===1)b=-1;else if(y=this.getTrackEvent(a)){this.data.trackEvents.remove(a);m.end(this,y);d.removeTrackEvent.ref(this,a);w="cuechange";if(typeof a==="string"&&l===2){if(typeof b==="number")o=y._natives.start;if(typeof b==="function"){o=b;b=y.start}}}else if(l>=2){if(typeof b==="string"){try{A=d.util.toSeconds(b)}catch(v){}b=
A}if(typeof b==="number")o=o||d.nop();if(typeof b==="function"){o=b;b=-1}}l={id:a,start:b,end:b+1,_running:false,_natives:{start:o||d.nop,end:d.nop,type:"cue"}};if(y)l=d.extend(y,l);if(w==="cuechange"){l._id=l.id||l._id||d.guid(l._natives.type);this.data.trackEvents.add(l);m.start(this,l);this.timeUpdate(this,null,true);d.addTrackEvent.ref(this,l);this.emit(w,d.extend({},l,{id:a,type:w,previousValue:{time:y.start,fn:y._natives.start},currentValue:{time:b,fn:o||d.nop},track:y}))}else d.addTrackEvent(this,
l);return this},mute:function(a){a=a==null||a===true?"muted":"unmuted";if(a==="unmuted"){this.media.muted=false;this.media.volume=this.data.state.volume}if(a==="muted"){this.data.state.volume=this.media.volume;this.media.muted=true}this.emit(a);return this},unmute:function(a){return this.mute(a==null?false:!a)},position:function(){return d.position(this.media)},toggle:function(a){return d[this.data.disabled[a]?"enable":"disable"](this,a)},defaults:function(a,b){if(d.isArray(a)){d.forEach(a,function(o){for(var l in o)this.defaults(l,
o[l])},this);return this}if(!this.options.defaults)this.options.defaults={};this.options.defaults[a]||(this.options.defaults[a]={});d.extend(this.options.defaults[a],b);return this}});d.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"};
d.Events.Natives=d.Events.UIEvents+" "+d.Events.MouseEvents+" "+d.Events.Events;u.events.apiTypes=["UIEvents","MouseEvents","Events"];(function(a,b){for(var o=u.events.apiTypes,l=a.Natives.split(/\s+/g),w=0,y=l.length;w<y;w++)b.hash[l[w]]=true;o.forEach(function(A){b.apis[A]={};for(var G=a[A].split(/\s+/g),v=G.length,z=0;z<v;z++)b.apis[A][G[z]]=true})})(d.Events,u.events);d.events={isNative:function(a){return!!u.events.hash[a]},getInterface:function(a){if(!d.events.isNative(a))return false;var b=
u.events,o=b.apiTypes;b=b.apis;for(var l=0,w=o.length,y,A;l<w;l++){A=o[l];if(b[A][a]){y=A;break}}return y},all:d.Events.Natives.split(/\s+/g),fn:{trigger:function(a,b){var o,l=this.data.events[a];if(l){if(o=d.events.getInterface(a)){o=f.createEvent(o);o.initEvent(a,true,true,p,1);this.media.dispatchEvent(o);return this}for(o=l.slice();o.length;)o.shift().call(this,b)}return this},listen:function(a,b){var o=this,l=true,w=d.events.hooks[a],y,A;if(typeof b!=="function")throw Error("Popcorn.js Error: Listener is not a function");
if(!this.data.events[a]){this.data.events[a]=[];l=false}if(w){w.add&&w.add.call(this,{},b);if(w.bind)a=w.bind;if(w.handler){A=b;b=function(G){w.handler.call(o,G,A)}}l=true;if(!this.data.events[a]){this.data.events[a]=[];l=false}}this.data.events[a].push(b);!l&&d.events.all.indexOf(a)>-1&&this.media.addEventListener(a,function(G){if(o.data.events[a])for(y=o.data.events[a].slice();y.length;)y.shift().call(o,G)},false);return this},unlisten:function(a,b){var o,l=this.data.events[a];if(l){if(typeof b===
"string"){for(o=0;o<l.length;o++)l[o].name===b&&l.splice(o--,1);return this}else if(typeof b==="function"){for(;o!==-1;){o=l.indexOf(b);o!==-1&&l.splice(o,1)}return this}this.data.events[a]=null;return this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(a,b){var o=false;if(this.media.readyState){setTimeout(function(){b.call(this,a)}.bind(this),0);o=true}this.data.hooks.canplayall={fired:o}},handler:function(a,b){if(!this.data.hooks.canplayall.fired){b.call(this,a);this.data.hooks.canplayall.fired=
true}}}}};d.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(a){d.p[a[0]]=d.p[a[1]]=d.events.fn[a[0]]});m.start=function(a,b){if(b.end>a.media.currentTime&&b.start<=a.media.currentTime&&!b._running){b._running=true;a.data.running[b._natives.type].push(b);if(!a.data.disabled[b._natives.type]){b._natives.start.call(a,null,b);a.emit("trackstart",d.extend({},b,{plugin:b._natives.type,type:"trackstart",track:b}))}}};m.end=function(a,b){var o;if((b.end<=a.media.currentTime||b.start>
a.media.currentTime)&&b._running){o=a.data.running[b._natives.type];b._running=false;o.splice(o.indexOf(b),1);if(!a.data.disabled[b._natives.type]){b._natives.end.call(a,null,b);a.emit("trackend",d.extend({},b,{plugin:b._natives.type,type:"trackend",track:b}))}}};e.prototype.where=function(a){return(this.parent.getTrackEvents()||[]).filter(function(b){var o,l;if(!a)return true;for(o in a){l=a[o];if(b[o]&&b[o]===l||b._natives[o]&&b._natives[o]===l)return true}return false})};e.prototype.add=function(a){var b=
this.byStart,o=this.byEnd,l;a&&a._id&&this.parent.data.history.push(a._id);a.start=d.util.toSeconds(a.start,this.parent.options.framerate);a.end=d.util.toSeconds(a.end,this.parent.options.framerate);for(l=b.length-1;l>=0;l--)if(a.start>=b[l].start){b.splice(l+1,0,a);break}for(b=o.length-1;b>=0;b--)if(a.end>o[b].end){o.splice(b+1,0,a);break}l<=this.parent.data.trackEvents.startIndex&&a.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++;b<=this.parent.data.trackEvents.endIndex&&
a.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++};e.prototype.remove=function(a){if(a instanceof m)a=a.id;if(typeof a==="object"){this.where(a).forEach(function(B){this.removeTrackEvent(B._id)},this.parent);return this}var b,o,l;l=this.byStart.length;for(var w=0,y=0,A=[],G=[],v=[],z=[];--l>-1;){b=this.byStart[w];o=this.byEnd[w];if(!b._id){A.push(b);G.push(o)}if(b._id){b._id!==a&&A.push(b);o._id!==a&&G.push(o);if(b._id===a)y=w}w++}l=this.animating.length;
w=0;if(l)for(;--l>-1;){b=this.animating[w];b._id||v.push(b);b._id&&b._id!==a&&v.push(b);w++}y<=this.startIndex&&this.startIndex--;y<=this.endIndex&&this.endIndex--;this.byStart=A;this.byEnd=G;this.animating=v;l=this.parent.data.history.length;for(w=0;w<l;w++)this.parent.data.history[w]!==a&&z.push(this.parent.data.history[w]);this.parent.data.history=z};d.addTrackEvent=function(a,b){var o;if(!(b instanceof m)){if((b=new m(b))&&b._natives&&b._natives.type&&a.options.defaults&&a.options.defaults[b._natives.type]){o=
d.extend({},b);d.extend(b,a.options.defaults[b._natives.type],o)}if(b._natives){b._id=b.id||b._id||d.guid(b._natives.type);if(b._natives._setup){b._natives._setup.call(a,b);a.emit("tracksetup",d.extend({},b,{plugin:b._natives.type,type:"tracksetup",track:b}))}}a.data.trackEvents.add(b);m.start(a,b);this.timeUpdate(a,null,true);b._id&&d.addTrackEvent.ref(a,b);a.emit("trackadded",d.extend({},b,b._natives?{plugin:b._natives.type}:{},{type:"trackadded",track:b}))}};d.addTrackEvent.ref=function(a,b){a.data.trackRefs[b._id]=
b;return a};d.removeTrackEvent=function(a,b){var o=a.getTrackEvent(b);if(o){o._natives._teardown&&o._natives._teardown.call(a,o);a.data.trackEvents.remove(b);d.removeTrackEvent.ref(a,b);o._natives&&a.emit("trackremoved",d.extend({},o,{plugin:o._natives.type,type:"trackremoved",track:o}))}};d.removeTrackEvent.ref=function(a,b){delete a.data.trackRefs[b];return a};d.getTrackEvents=function(a){var b=[];a=a.data.trackEvents.byStart;for(var o=a.length,l=0,w;l<o;l++){w=a[l];w._id&&b.push(w)}return b};d.getTrackEvents.ref=
function(a){return a.data.trackRefs};d.getTrackEvent=function(a,b){return a.data.trackRefs[b]};d.getTrackEvent.ref=function(a,b){return a.data.trackRefs[b]};d.getLastTrackEventId=function(a){return a.data.history[a.data.history.length-1]};d.timeUpdate=function(a,b){var o=a.media.currentTime,l=a.data.trackEvents.previousUpdateTime,w=a.data.trackEvents,y=w.endIndex,A=w.startIndex,G=w.byStart.length,v=w.byEnd.length,z=d.registryByName,B,t,x;if(l<=o){for(;w.byEnd[y]&&w.byEnd[y].end<=o;){B=w.byEnd[y];
t=(l=B._natives)&&l.type;if(!l||z[t]||a[t]){if(B._running===true){B._running=false;x=a.data.running[t];x.splice(x.indexOf(B),1);if(!a.data.disabled[t]){l.end.call(a,b,B);a.emit("trackend",d.extend({},B,{plugin:t,type:"trackend",track:B}))}}y++}else{d.removeTrackEvent(a,B._id);return}}for(;w.byStart[A]&&w.byStart[A].start<=o;){B=w.byStart[A];t=(l=B._natives)&&l.type;if(!l||z[t]||a[t]){if(B.end>o&&B._running===false){B._running=true;a.data.running[t].push(B);if(!a.data.disabled[t]){l.start.call(a,b,
B);a.emit("trackstart",d.extend({},B,{plugin:t,type:"trackstart",track:B}))}}A++}else{d.removeTrackEvent(a,B._id);return}}}else if(l>o){for(;w.byStart[A]&&w.byStart[A].start>o;){B=w.byStart[A];t=(l=B._natives)&&l.type;if(!l||z[t]||a[t]){if(B._running===true){B._running=false;x=a.data.running[t];x.splice(x.indexOf(B),1);if(!a.data.disabled[t]){l.end.call(a,b,B);a.emit("trackend",d.extend({},B,{plugin:t,type:"trackend",track:B}))}}A--}else{d.removeTrackEvent(a,B._id);return}}for(;w.byEnd[y]&&w.byEnd[y].end>
o;){B=w.byEnd[y];t=(l=B._natives)&&l.type;if(!l||z[t]||a[t]){if(B.start<=o&&B._running===false){B._running=true;a.data.running[t].push(B);if(!a.data.disabled[t]){l.start.call(a,b,B);a.emit("trackstart",d.extend({},B,{plugin:t,type:"trackstart",track:B}))}}y--}else{d.removeTrackEvent(a,B._id);return}}}w.endIndex=y;w.startIndex=A;w.previousUpdateTime=o;w.byStart.length<G&&w.startIndex--;w.byEnd.length<v&&w.endIndex--};d.extend(d.p,{getTrackEvents:function(){return d.getTrackEvents.call(null,this)},
getTrackEvent:function(a){return d.getTrackEvent.call(null,this,a)},getLastTrackEventId:function(){return d.getLastTrackEventId.call(null,this)},removeTrackEvent:function(a){d.removeTrackEvent.call(null,this,a);return this},removePlugin:function(a){d.removePlugin.call(null,this,a);return this},timeUpdate:function(a){d.timeUpdate.call(null,this,a);return this},destroy:function(){d.destroy.call(null,this);return this}});d.manifest={};d.registry=[];d.registryByName={};d.plugin=function(a,b,o){if(d.protect.natives.indexOf(a.toLowerCase())>=
0)d.error("'"+a+"' is a protected function name");else{var l=typeof b==="function",w=["start","end","type","manifest"],y=["_setup","_teardown","start","end","frame"],A={},G=function(B,t){B=B||d.nop;t=t||d.nop;return function(){B.apply(this,arguments);t.apply(this,arguments)}};d.manifest[a]=o=o||b.manifest||{};y.forEach(function(B){b[B]=c(b[B]||d.nop,a)});var v=function(B,t){if(!t)return this;if(t.ranges&&d.isArray(t.ranges)){d.forEach(t.ranges,function(L){L=d.extend({},t,L);delete L.ranges;this[a](L)},
this);return this}var x=t._natives={},O="",J;d.extend(x,B);t._natives.type=t._natives.plugin=a;t._running=false;x.start=x.start||x["in"];x.end=x.end||x.out;if(t.once)x.end=G(x.end,function(){this.removeTrackEvent(t._id)});x._teardown=G(function(){var L=j.call(arguments),F=this.data.running[x.type];L.unshift(null);L[1]._running&&F.splice(F.indexOf(t),1)&&x.end.apply(this,L);L[1]._running=false;this.emit("trackend",d.extend({},t,{plugin:x.type,type:"trackend",track:d.getTrackEvent(this,t.id||t._id)}))},
x._teardown);x._teardown=G(x._teardown,function(){this.emit("trackteardown",d.extend({},t,{plugin:a,type:"trackteardown",track:d.getTrackEvent(this,t.id||t._id)}))});t.compose=t.compose||[];if(typeof t.compose==="string")t.compose=t.compose.split(" ");t.effect=t.effect||[];if(typeof t.effect==="string")t.effect=t.effect.split(" ");t.compose=t.compose.concat(t.effect);t.compose.forEach(function(L){O=d.compositions[L]||{};y.forEach(function(F){x[F]=G(x[F],O[F])})});t._natives.manifest=o;if(!("start"in
t))t.start=t["in"]||0;if(!t.end&&t.end!==0)t.end=t.out||Number.MAX_VALUE;if(!q.call(t,"toString"))t.toString=function(){var L=["start: "+t.start,"end: "+t.end,"id: "+(t.id||t._id)];t.target!=null&&L.push("target: "+t.target);return a+" ( "+L.join(", ")+" )"};if(!t.target){J="options"in o&&o.options;t.target=J&&"target"in J&&J.target}if(!t._id&&t._natives)t._id=d.guid(t._natives.type);if(t instanceof m){if(t._natives){t._id=t.id||t._id||d.guid(t._natives.type);if(t._natives._setup){t._natives._setup.call(this,
t);this.emit("tracksetup",d.extend({},t,{plugin:t._natives.type,type:"tracksetup",track:t}))}}this.data.trackEvents.add(t);m.start(this,t);this.timeUpdate(this,null,true);t._id&&d.addTrackEvent.ref(this,t)}else d.addTrackEvent(this,t);d.forEach(B,function(L,F){w.indexOf(F)===-1&&this.on(F,L)},this);return this};d.p[a]=A[a]=function(B,t){var x,O;if(B&&!t)t=B;else if(x=this.getTrackEvent(B)){O=t;var J={},L;for(L in x)if(q.call(O,L)&&q.call(x,L))J[L]=x[L];if(x._natives._update){this.data.trackEvents.remove(x);
if(q.call(t,"start"))x.start=t.start;if(q.call(t,"end"))x.end=t.end;m.end(this,x);l&&b.call(this,x);x._natives._update.call(this,x,t);this.data.trackEvents.add(x);m.start(this,x)}else{d.extend(x,t);this.data.trackEvents.remove(B);x._natives._teardown&&x._natives._teardown.call(this,x);d.removeTrackEvent.ref(this,B);if(l)v.call(this,b.call(this,x),x);else{x._id=x.id||x._id||d.guid(x._natives.type);if(x._natives&&x._natives._setup){x._natives._setup.call(this,x);this.emit("tracksetup",d.extend({},x,
{plugin:x._natives.type,type:"tracksetup",track:x}))}this.data.trackEvents.add(x);m.start(this,x);this.timeUpdate(this,null,true);d.addTrackEvent.ref(this,x)}this.emit("trackchange",{id:x.id,type:"trackchange",previousValue:J,currentValue:x,track:x});return this}x._natives.type!=="cue"&&this.emit("trackchange",{id:x.id,type:"trackchange",previousValue:J,currentValue:O,track:x});return this}else t.id=B;this.data.running[a]=this.data.running[a]||[];x=d.extend({},this.options.defaults&&this.options.defaults[a]||
{},t);v.call(this,l?b.call(this,x):b,x);return this};o&&d.extend(b,{manifest:o});var z={fn:A[a],definition:b,base:b,parents:[],name:a};d.registry.push(d.extend(A,z,{type:a}));d.registryByName[a]=z;return A}};d.plugin.errors=[];d.plugin.debug=d.version==="92905c6";d.removePlugin=function(a,b){if(!b){b=a;a=d.p;if(d.protect.natives.indexOf(b.toLowerCase())>=0){d.error("'"+b+"' is a protected function name");return}var o=d.registry.length,l;for(l=0;l<o;l++)if(d.registry[l].name===b){d.registry.splice(l,
1);delete d.registryByName[b];delete d.manifest[b];delete a[b];return}}o=a.data.trackEvents.byStart;l=a.data.trackEvents.byEnd;var w=a.data.trackEvents.animating,y,A;y=0;for(A=o.length;y<A;y++){if(o[y]&&o[y]._natives&&o[y]._natives.type===b){o[y]._natives._teardown&&o[y]._natives._teardown.call(a,o[y]);o.splice(y,1);y--;A--;if(a.data.trackEvents.startIndex<=y){a.data.trackEvents.startIndex--;a.data.trackEvents.endIndex--}}l[y]&&l[y]._natives&&l[y]._natives.type===b&&l.splice(y,1)}y=0;for(A=w.length;y<
A;y++)if(w[y]&&w[y]._natives&&w[y]._natives.type===b){w.splice(y,1);y--;A--}};d.compositions={};d.compose=function(a,b,o){d.manifest[a]=o||b.manifest||{};d.compositions[a]=b};d.plugin.effect=d.effect=d.compose;var N=/^(?:\.|#|\[)/;d.dom={debug:false,find:function(a,b){var o=null;b=b||f;if(a){if(!N.test(a)){o=f.getElementById(a);if(o!==null)return o}try{o=b.querySelector(a)}catch(l){if(d.dom.debug)throw Error(l);}}return o}};var C=/\?/,H={ajax:null,url:"",data:"",dataType:"",success:d.nop,type:"GET",
async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};d.xhr=function(a){a.dataType=a.dataType&&a.dataType.toLowerCase()||null;if(a.dataType&&(a.dataType==="jsonp"||a.dataType==="script"))d.xhr.getJSONP(a.url,a.success,a.dataType==="script");else{a=d.extend({},H,a);a.ajax=new XMLHttpRequest;if(a.ajax){if(a.type==="GET"&&a.data){a.url+=(C.test(a.url)?"&":"?")+a.data;a.data=null}a.ajax.open(a.type,a.url,a.async);a.type==="POST"&&a.ajax.setRequestHeader("Content-Type",a.contentType);
a.ajax.send(a.data||null);return d.xhr.httpData(a)}}};d.xhr.httpData=function(a){var b,o=null,l,w=null;a.ajax.onreadystatechange=function(){if(a.ajax.readyState===4){try{o=JSON.parse(a.ajax.responseText)}catch(y){}b={xml:a.ajax.responseXML,text:a.ajax.responseText,json:o};if(!b.xml||!b.xml.documentElement){b.xml=null;try{l=new DOMParser;w=l.parseFromString(a.ajax.responseText,"text/xml");if(!w.getElementsByTagName("parsererror").length)b.xml=w}catch(A){}}if(a.dataType)b=b[a.dataType];a.success.call(a.ajax,
b)}};return b};d.xhr.getJSONP=function(a,b,o){var l=f.head||f.getElementsByTagName("head")[0]||f.documentElement,w=f.createElement("script"),y=false,A=[];A=/(=)\?(?=&|$)|\?\?/;var G,v;if(!o){v=a.match(/(callback=[^&]*)/);if(v!==null&&v.length){A=v[1].split("=")[1];if(A==="?")A="jsonp";G=d.guid(A);a=a.replace(/(callback=[^&]*)/,"callback="+G)}else{G=d.guid("jsonp");if(A.test(a))a=a.replace(A,"$1"+G);A=a.split(/\?(.+)?/);a=A[0]+"?";if(A[1])a+=A[1]+"&";a+="callback="+G}window[G]=function(z){b&&b(z);
y=true}}w.addEventListener("load",function(){o&&b&&b();y&&delete window[G];l.removeChild(w)},false);w.src=a;l.insertBefore(w,l.firstChild)};d.getJSONP=d.xhr.getJSONP;d.getScript=d.xhr.getScript=function(a,b){return d.xhr.getJSONP(a,b,true)};d.util={toSeconds:function(a,b){var o=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,l,w,y;if(typeof a==="number")return a;typeof a==="string"&&!o.test(a)&&d.error("Invalid time format");o=a.split(":");l=o.length-1;w=o[l];if(w.indexOf(";")>-1){w=w.split(";");y=0;if(b&&
typeof b==="number")y=parseFloat(w[1],10)/b;o[l]=parseInt(w[0],10)+y}l=o[0];return{1:parseFloat(l,10),2:parseInt(l,10)*60+parseFloat(o[1],10),3:parseInt(l,10)*3600+parseInt(o[1],10)*60+parseFloat(o[2],10)}[o.length||1]}};d.p.cue=d.p.exec;d.protect={natives:function(a){return Object.keys?Object.keys(a):function(b){var o,l=[];for(o in b)q.call(b,o)&&l.push(o);return l}(a)}(d.p).map(function(a){return a.toLowerCase()})};d.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(a,b){var o=
d.p[b];d.p[b]=function(){if(typeof console!=="undefined"&&console.warn){console.warn("Deprecated method '"+b+"', "+(a==null?"do not use.":"use '"+a+"' instead."));d.p[b]=o}return d.p[a].apply(this,[].slice.call(arguments))}});p.Popcorn=d}else{p.Popcorn={isSupported:false};for(g="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);g.length;)p.Popcorn[g.shift()]=
function(){}}})(window,window.document);(function(p,f){function m(g){g=typeof g==="string"?g:[g.language,g.region].join("-");var h=g.split("-");return{iso6391:g,language:h[0]||"",region:h[1]||""}}var e=p.navigator,c=m(e.userLanguage||e.language);f.locale={get:function(){return c},set:function(g){c=m(g);f.locale.broadcast();return c},broadcast:function(g){var h=f.instances,i=h.length,j=0,q;for(g=g||"locale:changed";j<i;j++){q=h[j];g in q.data.events&&q.trigger(g)}}}})(this,this.Popcorn);(function(p){var f=function(m,e){m=m||p.nop;e=e||p.nop;return function(){m.apply(this,arguments);e.apply(this,arguments)}};p.player=function(m,e){if(!p[m]){e=e||{};var c=function(g,h,i){i=i||{};var j=new Date/1E3,q=j,k=0,s=0,n=1,r=false,u={},E=typeof g==="string"?p.dom.find(g):g,D={};Object.prototype.__defineGetter__||(D=E||document.createElement("div"));for(var d in E)if(!(d in D))if(typeof E[d]==="object")D[d]=E[d];else if(typeof E[d]==="function")D[d]=function(C){return"length"in E[C]&&!E[C].call?
E[C]:function(){return E[C].apply(E,arguments)}}(d);else p.player.defineProperty(D,d,{get:function(C){return function(){return E[C]}}(d),set:p.nop,configurable:true});var N=function(){j=new Date/1E3;if(!D.paused){D.currentTime+=j-q;D.dispatchEvent("timeupdate");setTimeout(N,10)}q=j};D.play=function(){this.paused=false;if(D.readyState>=4){q=new Date/1E3;D.dispatchEvent("play");N()}};D.pause=function(){this.paused=true;D.dispatchEvent("pause")};p.player.defineProperty(D,"currentTime",{get:function(){return k},
set:function(C){k=+C;D.dispatchEvent("timeupdate");return k},configurable:true});p.player.defineProperty(D,"volume",{get:function(){return n},set:function(C){n=+C;D.dispatchEvent("volumechange");return n},configurable:true});p.player.defineProperty(D,"muted",{get:function(){return r},set:function(C){r=+C;D.dispatchEvent("volumechange");return r},configurable:true});p.player.defineProperty(D,"readyState",{get:function(){return s},set:function(C){return s=C},configurable:true});D.addEventListener=function(C,
H){u[C]||(u[C]=[]);u[C].push(H);return H};D.removeEventListener=function(C,H){var a,b=u[C];if(b){for(a=u[C].length-1;a>=0;a--)H===b[a]&&b.splice(a,1);return H}};D.dispatchEvent=function(C){var H,a=C.type;if(!a){a=C;if(C=p.events.getInterface(a)){H=document.createEvent(C);H.initEvent(a,true,true,window,1)}}if(u[a])for(C=u[a].length-1;C>=0;C--)u[a][C].call(this,H,this)};D.src=h||"";D.duration=0;D.paused=true;D.ended=0;i&&i.events&&p.forEach(i.events,function(C,H){D.addEventListener(H,C,false)});if(e._canPlayType(E.nodeName,
h)!==false)if(e._setup)e._setup.call(D,i);else{D.readyState=4;D.dispatchEvent("loadedmetadata");D.dispatchEvent("loadeddata");D.dispatchEvent("canplaythrough")}else setTimeout(function(){D.dispatchEvent("error")},0);g=new p.p.init(D,i);if(e._teardown)g.destroy=f(g.destroy,function(){e._teardown.call(D,i)});return g};c.canPlayType=e._canPlayType=e._canPlayType||p.nop;p[m]=p.player.registry[m]=c}};p.player.registry={};p.player.defineProperty=Object.defineProperty||function(m,e,c){m.__defineGetter__(e,
c.get||p.nop);m.__defineSetter__(e,c.set||p.nop)};p.player.playerQueue=function(){var m=[],e=false;return{next:function(){e=false;m.shift();m[0]&&m[0]()},add:function(c){m.push(function(){e=true;c&&c()});!e&&m[0]()}}};p.smart=function(m,e,c){var g=typeof m==="string"?p.dom.find(m):m,h,i,j,q,k,s="HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(g){e=typeof e==="string"?[e]:e;m=0;for(k=e.length;m<k;m++){h=e[m];for(i=0;i<s.length;i++)if((q=p[s[i]])&&q._canPlaySrc(h)===
"probably"){j=q(g);c=p(j,c);setTimeout(function(){j.src=h},0);return c}for(var n in p.player.registry)if(p.player.registry.hasOwnProperty(n))if(p.player.registry[n].canPlayType(g.nodeName,h))return p[n](g,h,c)}var r;n=p.guid("popcorn-video-");i=document.createElement("div");i.style.width="100%";i.style.height="100%";if(e.length===1){r=document.createElement("video");r.id=n;g.appendChild(r);setTimeout(function(){var u=document.createElement("div");u.innerHTML=e[0];r.src=u.firstChild.nodeValue},0);
return p("#"+n,c)}g.appendChild(i);s='<video id="'+n+'" preload=auto autobuffer>';m=0;for(k=e.length;m<k;m++)s+='<source src="'+e[m]+'">';s+="</video>";i.innerHTML=s;c&&c.events&&c.events.error&&g.addEventListener("error",c.events.error,false);return p("#"+n,c)}else p.error("Specified target `"+m+"` was not found.")}})(Popcorn);(function(p){document.addEventListener("DOMContentLoaded",function(){var f=document.querySelectorAll("[data-timeline-sources]");p.forEach(f,function(m,e){var c=f[e],g,h,i;if(!c.id)c.id=p.guid("__popcorn");if(c.nodeType&&c.nodeType===1){i=p("#"+c.id);g=(c.getAttribute("data-timeline-sources")||"").split(",");g[0]&&p.forEach(g,function(j){h=j.split("!");if(h.length===1){h=j.match(/(.*)[\/\\]([^\/\\]+\.\w+)$/)[2].split(".");h[0]="parse"+h[1].toUpperCase();h[1]=j}g[0]&&i[h[0]]&&i[h[0]](h[1])});i.autoplay()&&
i.play()}})},false)})(Popcorn);(function(p,f){var m=p.document,e=p.location,c=/:\/\//,g=e.href.replace(e.href.split("/").slice(-1)[0],""),h=function(j,q,k){j=j||0;q=(q||j||0)+1;k=k||1;q=Math.ceil((q-j)/k)||0;var s=0,n=[];for(n.length=q;s<q;){n[s++]=j;j+=k}return n};f.sequence=function(j,q){return new f.sequence.init(j,q)};f.sequence.init=function(j,q){this.parent=m.getElementById(j);this.seqId=f.guid("__sequenced");this.queue=[];this.playlist=[];this.inOuts={ofVideos:[],ofClips:[]};this.dims={width:0,height:0};this.active=0;this.playing=
this.cycling=false;this.times={last:0};this.events={};var k=this,s=0;f.forEach(q,function(n,r){var u=m.createElement("video");u.preload="auto";u.controls=true;u.style.display=r&&"none"||"";u.id=k.seqId+"-"+r;k.queue.push(u);var E=n["in"],D=n.out;k.inOuts.ofVideos.push({"in":E!==undefined&&typeof E==="number"?E:1,out:D!==undefined&&typeof D==="number"?D:0});k.inOuts.ofVideos[r].out=k.inOuts.ofVideos[r].out||k.inOuts.ofVideos[r]["in"]+2;u.src=!c.test(n.src)?g+n.src:n.src;u.setAttribute("data-sequence-owner",
j);u.setAttribute("data-sequence-guid",k.seqId);u.setAttribute("data-sequence-id",r);u.setAttribute("data-sequence-clip",[k.inOuts.ofVideos[r]["in"],k.inOuts.ofVideos[r].out].join(":"));k.parent.appendChild(u);k.playlist.push(f("#"+u.id))});k.inOuts.ofVideos.forEach(function(n){n={"in":s,out:s+(n.out-n["in"])};k.inOuts.ofClips.push(n);s=n.out});f.forEach(this.queue,function(n,r){function u(){if(!r){k.dims.width=n.videoWidth;k.dims.height=n.videoHeight}n.currentTime=k.inOuts.ofVideos[r]["in"]-0.2;
n.removeEventListener("canplaythrough",u,false);return true}n.addEventListener("canplaythrough",u,false);n.addEventListener("play",function(){k.playing=true},false);n.addEventListener("pause",function(){k.playing=false},false);n.addEventListener("timeupdate",function(E){E=E.srcElement||E.target;E=+(E.dataset&&E.dataset.sequenceId||E.getAttribute("data-sequence-id"));var D=Math.floor(n.currentTime);if(k.times.last!==D&&E===k.active){k.times.last=D;D===k.inOuts.ofVideos[E].out&&f.sequence.cycle.call(k,
E)}},false);n.addEventListener("ended",function(E){E=E.srcElement||E.target;E=+(E.dataset&&E.dataset.sequenceId||E.getAttribute("data-sequence-id"));f.sequence.cycle.call(k,E)},false)});return this};f.sequence.init.prototype=f.sequence.prototype;f.sequence.cycle=function(j,q){this.queue||f.error("Popcorn.sequence.cycle is not a public method");if(j===q)return this;var k=this.queue,s=this.inOuts.ofVideos,n=k[j],r,u;r=typeof q==="number"?q:j+1;if(k[r]){k=k[r];s=s[r];f.extend(k,{width:this.dims.width,
height:this.dims.height});u=this.playlist[r];n.pause();this.active=r;this.times.last=s["in"]-1;u.currentTime(s["in"]);u.play();this.trigger("cycle",{position:{previous:j,current:r}});n.style.display="none";k.style.display="";this.cycling=false}else this.playlist[j].pause();return this};var i=["timeupdate","play","pause"];f.extend(f.sequence.prototype,{eq:function(j){return this.playlist[j]},remove:function(){this.parent.innerHTML=null},clip:function(j){return this.inOuts.ofVideos[j]},duration:function(){for(var j=
0,q=this.inOuts.ofClips,k=0;k<q.length;k++)j+=q[k].out-q[k]["in"];return j},play:function(){this.queue.length-1===this.active&&this.inOuts.ofVideos[this.active].out>=Math.round(this.queue[this.active].currentTime)?this.jumpTo(0):this.queue[this.active].play();return this},pause:function(){this.queue[this.active].pause();return this},cue:function(j,q){var k=this.active;this.inOuts.ofClips.forEach(function(s,n){if(j>=s["in"]&&j<=s.out)k=n});j+=this.inOuts.ofVideos[k]["in"]-this.inOuts.ofClips[k]["in"];
this.playlist[k].cue(j,q);return this},on:function(j,q){var k=this,s=this.playlist,n=s.length,r=0;if(!q)q=f.nop;if(f.Events.Natives.indexOf(j)>-1)f.forEach(s,function(u){u.on(j,function(E){E.active=k;if(i.indexOf(j)>-1)q.call(u,E);else++r===n&&q.call(u,E)})});else{this.events[j]||(this.events[j]={});s=q.name||f.guid("__"+j);this.events[j][s]=q}return this},off:function(j,q){var k=this.playlist;if(f.Events.Natives.indexOf(j)>-1)f.forEach(k,function(s){s.off(j,q)});else this.events[j]=null;return this},
emit:function(j,q){var k=this;if(!(f.Events.Natives.indexOf(j)>-1)){this.events[j]&&f.forEach(this.events[j],function(s){s.call(k,{type:j},q)});return this}},currentTime:function(){var j=this.active,q=0;this.inOuts.ofClips.forEach(function(k,s){if(s<j)q+=this.inOuts.ofVideos[s].out-this.inOuts.ofVideos[s]["in"]},this);q+=this.playlist[j].currentTime()-this.inOuts.ofVideos[j]["in"];return q},jumpTo:function(j){if(j<0||j>this.duration())return this;var q,k,s,n;offsetTime=0;k=false;this.inOuts.ofClips.forEach(function(r,
u){var E=this.inOuts;if(!k)if(j>=E.ofClips[u]["in"]&&j<=E.ofClips[u].out){k=true;q=u;s=j-offsetTime+E.ofVideos[u]["in"]}else offsetTime+=E.ofClips[u].out-offsetTime},this);f.sequence.cycle.call(this,this.active,q);n=this.inOuts.ofVideos[q];this.playlist[q].currentTime(s>=n["in"]&&s<=n.out?s:n["in"]);return this}});[["exec","cue"],["listen","on"],["unlisten","off"],["trigger","emit"]].forEach(function(j){f.sequence.prototype[j[0]]=f.sequence.prototype[j[1]]});f.forEach(f.manifest,function(j,q){f.sequence.prototype[q]=
function(k){var s={},n=[],r,u,E,D,d;for(r=0;r<this.inOuts.ofClips.length;r++){n=this.inOuts.ofClips[r];u=h(n["in"],n.out);E=u.indexOf(k.start);D=u.indexOf(k.end);if(E>-1)s[r]=f.extend({},n,{start:u[E],clipIdx:E});if(D>-1)s[r]=f.extend({},n,{end:u[D],clipIdx:D})}r=Object.keys(s).map(function(C){return+C});n=h(r[0],r[1]);for(r=0;r<n.length;r++){E={};D=n[r];var N=s[D];if(N){d=this.inOuts.ofVideos[D];u=N.clipIdx;d=h(d["in"],d.out);if(N.start){E.start=d[u];E.end=d[d.length-1]}if(N.end){E.start=d[0];E.end=
d[u]}}else{E.start=this.inOuts.ofVideos[D]["in"];E.end=this.inOuts.ofVideos[D].out}this.playlist[D][q](f.extend({},k,E))}return this}})})(this,Popcorn);(function(p){var f=Object.prototype.hasOwnProperty;p.parsers={};p.parser=function(m,e,c){if(p.protect.natives.indexOf(m.toLowerCase())>=0)p.error("'"+m+"' is a protected function name");else{if(typeof e==="function"&&!c){c=e;e=""}if(!(typeof c!=="function"||typeof e!=="string")){var g={};g[m]=function(h,i){if(!h)return this;var j=this;p.xhr({url:h,dataType:e,success:function(q){var k,s,n=0;q=c(q).data||[];if(k=q.length){for(;n<k;n++){s=q[n];for(var r in s)f.call(s,r)&&j[r]&&j[r](s[r])}i&&i()}}});
return this};p.extend(p.p,g);return g}}}})(Popcorn);(function(p,f){function m(g){var h=m.options;g=h.parser[h.strictMode?"strict":"loose"].exec(g);for(var i={},j=14;j--;)i[h.key[j]]=g[j]||"";i[h.q.name]={};i[h.key[12]].replace(h.q.parser,function(q,k,s){if(k)i[h.q.name][k]=s});return i}function e(){}m.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var c={length:0,start:p.nop,end:p.nop};MediaError=MediaError||function(){function g(h,i){this.code=h||null;this.message=i||""}g.MEDIA_ERR_NONE_ACTIVE=0;g.MEDIA_ERR_ABORTED=1;g.MEDIA_ERR_NETWORK=2;g.MEDIA_ERR_DECODE=3;g.MEDIA_ERR_NONE_SUPPORTED=4;return g}();e.prototype={_util:{type:"HTML5",TIMEUPDATE_MS:250,
MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(g){return typeof g==="string"||g===true},parseUri:m},addEventListener:function(g,h,i){f.addEventListener(this._eventNamespace+g,h,i)},removeEventListener:function(g,h,i){f.removeEventListener(this._eventNamespace+g,h,i)},dispatchEvent:function(g){var h=f.createEvent("CustomEvent");h.initCustomEvent(this._eventNamespace+g,false,false,{type:g,target:this.parentNode,data:null});f.dispatchEvent(h)},load:p.nop,canPlayType:function(){return""},getBoundingClientRect:function(){return this.parentNode.getBoundingClientRect()},
NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};e.prototype.constructor=e;Object.defineProperties(e.prototype,{currentSrc:{get:function(){return this.src!==undefined?this.src:""}},preload:{get:function(){return"auto"},set:p.nop},controls:{get:function(){return true},set:p.nop},poster:{get:function(){return""},set:p.nop},crossorigin:{get:function(){return""}},played:{get:function(){return c}},
seekable:{get:function(){return c}},buffered:{get:function(){return c}},defaultMuted:{get:function(){return false}},defaultPlaybackRate:{get:function(){return 1}},style:{get:function(){return this.parentNode.style}},id:{get:function(){return this.parentNode.id}}});p._MediaElementProto=e})(Popcorn,window.document);(function(p,f,m){function e(){if(!q){p.getScript("//w.soundcloud.com/player/api.js",function(){p.getScript("//connect.soundcloud.com/sdk.js",function(){j=true;SC.initialize({client_id:"PRaNFlda6Bhf5utPjUsptg"});for(var s=k.length;s--;){k[s]();delete k[s]}})});q=true}return j}function c(s){k.unshift(s)}function g(s){function n(F){x.unshift(F)}function r(){t.bind(SC.Widget.Events.LOAD_PROGRESS,function(F){H({type:"loadProgress",data:F.currentPosition/1E3})});t.bind(SC.Widget.Events.PLAY_PROGRESS,function(F){H({type:"playProgress",
data:F.currentPosition/1E3})});t.bind(SC.Widget.Events.PLAY,function(){H({type:"play"})});t.bind(SC.Widget.Events.PAUSE,function(){H({type:"pause"})});t.bind(SC.Widget.Events.SEEK,function(){t.getPosition(function(F){F=F/1E3;if(v.seeking)if(Math.floor(F)!==Math.floor(v.currentTime))t.seekTo(v.currentTime*1E3);else{v.ended=false;v.seeking=false;y.dispatchEvent("timeupdate");y.dispatchEvent("seeked");y.dispatchEvent("canplay");y.dispatchEvent("canplaythrough")}else H({type:"seek",data:F})})});t.bind(SC.Widget.Events.FINISH,
function(){H({type:"finish"})});z=true;t.getDuration(E)}function u(){t.bind(SC.Widget.Events.PLAY_PROGRESS,function(F){t.setVolume(0);if(F.currentPosition>0){t.unbind(SC.Widget.Events.PLAY_PROGRESS);t.bind(SC.Widget.Events.PAUSE,function(){t.unbind(SC.Widget.Events.PAUSE);t.setVolume(100);t.bind(SC.Widget.Events.SEEK,function(){t.unbind(SC.Widget.Events.SEEK);r()});t.seekTo(0)});t.pause()}});t.play()}function E(F){F/=1E3;var Q=v.duration;if(Q!==F){v.duration=F;y.dispatchEvent("durationchange");if(isNaN(Q)){v.networkState=
y.NETWORK_IDLE;v.readyState=y.HAVE_METADATA;y.dispatchEvent("loadedmetadata");y.dispatchEvent("loadeddata");v.readyState=y.HAVE_FUTURE_DATA;y.dispatchEvent("canplay");v.readyState=y.HAVE_ENOUGH_DATA;y.dispatchEvent("canplaythrough");for(F=x.length;F--;){x[F]();delete x[F]}v.paused&&v.autoplay&&y.play()}}}function D(F){function Q(){v.seeking=true;y.dispatchEvent("seeking");t.seekTo(F)}v.currentTime=F;F*=1E3;z?Q():addMediaReadyCallback(Q)}function d(){v.paused=true;if(!B){B=true;clearInterval(O);y.dispatchEvent("pause")}}
function N(){y.dispatchEvent("timeupdate")}function C(F){v.currentTime=F;F!==L&&y.dispatchEvent("timeupdate");L=F}function H(F){switch(F.type){case "loadProgress":y.dispatchEvent("progress");break;case "playProgress":C(F.data);break;case "play":if(!J){J=setInterval(a,h);v.loop&&y.dispatchEvent("play")}O=setInterval(N,y._util.TIMEUPDATE_MS);v.paused=false;if(B){B=false;v.loop||y.dispatchEvent("play");y.dispatchEvent("playing")}break;case "pause":d();break;case "finish":if(v.loop){D(0);y.play()}else{v.ended=
true;y.pause();d();y.dispatchEvent("timeupdate");y.dispatchEvent("ended")}break;case "seek":C(F.data)}}function a(){v.ended||t.getPosition(function(F){C(F/1E3)})}function b(F){if(y._canPlaySrc(F)){v.src=F;if(z)if(z&&t){clearInterval(J);t.pause();t.unbind(SC.Widget.Events.READY);t.unbind(SC.Widget.Events.LOAD_PROGRESS);t.unbind(SC.Widget.Events.PLAY_PROGRESS);t.unbind(SC.Widget.Events.PLAY);t.unbind(SC.Widget.Events.PAUSE);t.unbind(SC.Widget.Events.SEEK);t.unbind(SC.Widget.Events.FINISH);A.removeChild(G);
G=m.createElement("iframe")}if(e()){z=false;SC.get("/resolve",{url:F},function(Q){G.id=p.guid("soundcloud-");G.width=v.width;G.height=v.height;G.frameBorder=0;G.webkitAllowFullScreen=true;G.mozAllowFullScreen=true;G.allowFullScreen=true;w(v.controls);A.appendChild(G);G.onload=function(){G.onload=null;t=SC.Widget(G);t.bind(SC.Widget.Events.READY,u);v.networkState=y.NETWORK_LOADING;y.dispatchEvent("loadstart");y.dispatchEvent("progress")};G.src="https://w.soundcloud.com/player/?url="+Q.uri+"&show_artwork=false&buying=false&liking=false&sharing=false&download=false&show_comments=false&show_user=false&single_active=false"})}else c(function(){b(F)})}else{v.error=
{name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};y.dispatchEvent("error")}}function o(F){v.volume=F;if(z){t.setVolume(F);y.dispatchEvent("volumechange")}else n(function(){o(F)})}function l(F){if(z)if(F){v.muted=v.volume;o(0)}else{v.muted=0;o(v.muted)}else{v.muted=F?1:0;n(function(){l(F)})}}function w(F){if(z){G.style.position="absolute";G.style.visibility=F?"visible":"hidden"}else{G.style.opacity=F?"1":"0";G.style.pointerEvents=F?"auto":"none"}v.controls=
F}if(!f.postMessage)throw"ERROR: HTMLSoundCloudAudioElement requires window.postMessage";var y=this,A=typeof s==="string"?p.dom.find(s):s,G=m.createElement("iframe"),v={src:i,networkState:y.NETWORK_EMPTY,readyState:y.HAVE_NOTHING,seeking:false,autoplay:i,preload:i,controls:false,loop:false,poster:i,volume:100,muted:0,currentTime:0,duration:NaN,ended:false,paused:true,width:A.width|0?A.width:y._util.MIN_WIDTH,height:A.height|0?A.height:y._util.MIN_HEIGHT,error:null},z=false,B=true,t,x=[],O,J,L=0;y._eventNamespace=
p.guid("HTMLSoundCloudAudioElement::");y.parentNode=A;y._util.type="SoundCloud";y.play=function(){v.paused=false;if(z){v.ended&&D(0);t.play()}else n(function(){y.play()})};y.pause=function(){v.paused=true;z?t.pause():n(function(){y.pause()})};Object.defineProperties(y,{src:{get:function(){return v.src},set:function(F){F&&F!==v.src&&b(F)}},autoplay:{get:function(){return v.autoplay},set:function(F){v.autoplay=y._util.isAttributeSet(F)}},loop:{get:function(){return v.loop},set:function(F){v.loop=y._util.isAttributeSet(F)}},
width:{get:function(){return G.width},set:function(F){G.width=F;v.width=G.width}},height:{get:function(){return G.height},set:function(F){G.height=F;v.height=G.height}},currentTime:{get:function(){return v.currentTime},set:function(F){D(F)}},duration:{get:function(){return v.duration}},ended:{get:function(){return v.ended}},paused:{get:function(){return v.paused}},seeking:{get:function(){return v.seeking}},readyState:{get:function(){return v.readyState}},networkState:{get:function(){return v.networkState}},
volume:{get:function(){return(v.muted>0?v.muted:v.volume)/100},set:function(F){if(F<0||F>1)throw"Volume value must be between 0.0 and 1.0";F*=100;o(F)}},muted:{get:function(){return v.muted>0},set:function(F){l(y._util.isAttributeSet(F))}},error:{get:function(){return v.error}},controls:{get:function(){return v.controls},set:function(F){w(!!F)}}})}var h=16,i="",j=false,q=false,k=[];g.prototype=new p._MediaElementProto;g.prototype._canPlaySrc=function(s){return/(?:https?:\/\/www\.|https?:\/\/|www\.|\.|^)(soundcloud)/.test(s)?
"probably":i};g.prototype.canPlayType=function(s){return s==="audio/x-soundcloud"?"probably":i};p.HTMLSoundCloudAudioElement=function(s){return new g(s)};p.HTMLSoundCloudAudioElement._canPlaySrc=g.prototype._canPlaySrc})(Popcorn,window,document);(function(p,f,m){function e(){if(!s){var r=m.createElement("script");r.src=(f.location.protocol==="file:"?"http:":"")+"//www.youtube.com/iframe_api";var u=m.getElementsByTagName("script")[0];u.parentNode.insertBefore(r,u);s=true}return k}function c(r){n.unshift(r)}function g(r){function u(K){R.push(K)}function E(){var K=function(){I.isMuted()?I.playVideo():setTimeout(K,0)};O=true;I.mute();K()}function D(K){var M={name:"MediaError"};switch(K.data){case 2:M.message="Invalid video parameter.";M.code=
MediaError.MEDIA_ERR_ABORTED;break;case 5:M.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.";M.code=MediaError.MEDIA_ERR_DECODE;case 100:M.message="Video not found.";M.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:M.message="Video not usable.";M.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:M.message="Unknown error.";M.code=5}x.error=M;z.dispatchEvent("error")}function d(){u(function(){W=setInterval(a,
50)});if(x.autoplay||!x.paused){x.paused=false;u(function(){y()})}else{J=false;I.pauseVideo()}x.muted||I.unMute();x.readyState=z.HAVE_METADATA;z.dispatchEvent("loadedmetadata");X=setInterval(H,h);z.dispatchEvent("loadeddata");x.readyState=z.HAVE_FUTURE_DATA;z.dispatchEvent("canplay");for(F=true;R.length;){R[0]();R.shift()}x.readyState=z.HAVE_ENOUGH_DATA;z.dispatchEvent("canplaythrough")}function N(K){switch(K.data){case YT.PlayerState.ENDED:if(x.loop){b(0);z.play()}else{x.ended=true;A();L=true;z.dispatchEvent("timeupdate");
z.dispatchEvent("ended")}break;case YT.PlayerState.PLAYING:if(T)if(L){L=false;I.pauseVideo()}else y();else{T=true;Q&&d()}break;case YT.PlayerState.PAUSED:if(I.getDuration()===I.getCurrentTime())break;if(J){J=false;break}A();break;case YT.PlayerState.BUFFERING:x.networkState=z.NETWORK_LOADING;z.dispatchEvent("waiting")}K.data!==YT.PlayerState.BUFFERING&&Y===YT.PlayerState.BUFFERING&&z.dispatchEvent("progress");Y=K.data}function C(K){if(z._canPlaySrc(K)){x.src=K;if(e()){if(O)if(F){if(O&&I){A();S=T=
F=Q=false;x.currentTime=0;R=[];clearInterval(X);clearInterval(W);I.stopVideo();I.clearVideo();I.destroy();t=m.createElement("div")}}else{u(function(){C(K)});return}B.appendChild(t);var M=z._util.parseUri(K).queryKey;delete M.v;x.autoplay=M.autoplay==="1"||x.autoplay;delete M.autoplay;x.loop=M.loop==="1"||x.loop;delete M.loop;M.rel=M.rel||0;M.modestbranding=M.modestbranding||1;M.iv_load_policy=M.iv_load_policy||3;M.showinfo=M.showinfo||0;var $=f.location.protocol==="file:"?"*":f.location.protocol+
"//"+f.location.host;M.origin=M.origin||$;M.controls=M.controls||x.controls?2:0;x.controls=M.controls;M.wmode=M.wmode||"opaque";K=j.exec(K)[1];p.getJSONP("https://gdata.youtube.com/feeds/api/videos/"+K+"?v=2&alt=jsonc&callback=?",function(U){if(U.error)console.warn("failed to retreive duration data, reason: "+U.error.message);else if(U.data){x.duration=U.data.duration;z.dispatchEvent("durationchange");Q=true;T&&d()}else console.warn("failed to retreive duration data, reason: no response data")});
I=new YT.Player(t,{width:"100%",height:"100%",wmode:M.wmode,videoId:K,playerVars:M,events:{onReady:E,onError:D,onStateChange:N}});x.networkState=z.NETWORK_LOADING;z.dispatchEvent("loadstart");z.dispatchEvent("progress")}else c(function(){C(K)})}else{x.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};z.dispatchEvent("error")}}function H(){var K=I.getCurrentTime();if(x.seeking)q(K-x.currentTime)<1&&w();else{if(q(x.currentTime-K)>h){l();w()}x.currentTime=
K}}function a(){var K=I.getVideoLoadedFraction();if(K&&V!==K){V=K;z.dispatchEvent("progress")}}function b(K){x.currentTime=K;if(F){l();I.seekTo(K)}else u(function(){l();I.seekTo(K)})}function o(){z.dispatchEvent("timeupdate")}function l(){J=true;x.seeking=true;z.dispatchEvent("seeking")}function w(){x.ended=false;x.seeking=false;z.dispatchEvent("timeupdate");z.dispatchEvent("seeked");z.dispatchEvent("canplay");z.dispatchEvent("canplaythrough")}function y(){if(x.ended){b(0);x.ended=false}Z=setInterval(o,
z._util.TIMEUPDATE_MS);x.paused=false;if(P){P=false;if(x.loop&&!S||!x.loop){S=true;z.dispatchEvent("play")}z.dispatchEvent("playing")}}function A(){x.paused=true;if(!P){P=true;clearInterval(Z);z.dispatchEvent("pause")}}function G(K){x.volume=K;if(F){I.setVolume(x.volume*100);z.dispatchEvent("volumechange")}else u(function(){G(x.volume)})}function v(K){x.muted=K;if(F){I[K?"mute":"unMute"]();z.dispatchEvent("volumechange")}else u(function(){v(x.muted)})}if(!f.postMessage)throw"ERROR: HTMLYouTubeVideoElement requires window.postMessage";
var z=this,B=typeof r==="string"?m.querySelector(r):r,t=m.createElement("div"),x={src:i,networkState:z.NETWORK_EMPTY,readyState:z.HAVE_NOTHING,seeking:false,autoplay:i,preload:i,controls:false,loop:false,poster:i,volume:1,muted:false,currentTime:0,duration:NaN,ended:false,paused:true,error:null},O=false,J=false,L=false,F=false,Q=false,S=false,I,P=true,R=[],Y=-1,W,V=0,X,Z,T=false;z._eventNamespace=p.guid("HTMLYouTubeVideoElement::");z.parentNode=B;z._util.type="YouTube";z.play=function(){x.paused=
false;F?I.playVideo():u(function(){z.play()})};z.pause=function(){x.paused=true;if(F){J=false;I.pauseVideo()}else u(function(){z.pause()})};Object.defineProperties(z,{src:{get:function(){return x.src},set:function(K){K&&K!==x.src&&C(K)}},autoplay:{get:function(){return x.autoplay},set:function(K){x.autoplay=z._util.isAttributeSet(K)}},loop:{get:function(){return x.loop},set:function(K){x.loop=z._util.isAttributeSet(K)}},width:{get:function(){return z.parentNode.offsetWidth}},height:{get:function(){return z.parentNode.offsetHeight}},
currentTime:{get:function(){return x.currentTime},set:function(K){b(K)}},duration:{get:function(){return x.duration}},ended:{get:function(){return x.ended}},paused:{get:function(){return x.paused}},seeking:{get:function(){return x.seeking}},readyState:{get:function(){return x.readyState}},networkState:{get:function(){return x.networkState}},volume:{get:function(){return x.volume/100},set:function(K){if(K<0||K>1)throw"Volume value must be between 0.0 and 1.0";G(K)}},muted:{get:function(){return x.muted},
set:function(K){v(z._util.isAttributeSet(K))}},error:{get:function(){return x.error}},buffered:{get:function(){var K={start:function(M){if(M===0)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1";},end:function(M){if(M===0){if(!x.duration)return 0;return x.duration*V}throw"INDEX_SIZE_ERR: DOM Exception 1";}};Object.defineProperties(K,{length:{get:function(){return 1}}});return K}}})}var h=10,i="",j=/^.*(?:\/|v=)(.{11})/,q=Math.abs,k=false,s=false,n=[];if(f.YT){f.quarantineYT=f.YT;f.YT=null}f.onYouTubeIframeAPIReady=
function(){k=true;for(var r=n.length;r--;){n[r]();delete n[r]}};g.prototype=new p._MediaElementProto;g.prototype.constructor=g;g.prototype._canPlaySrc=function(r){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu).*(?:\/|v=)(.{11})/.test(r)?"probably":i};g.prototype.canPlayType=function(r){return r==="video/x-youtube"?"probably":i};p.HTMLYouTubeVideoElement=function(r){return new g(r)};p.HTMLYouTubeVideoElement._canPlaySrc=g.prototype._canPlaySrc})(Popcorn,window,document);(function(p,f){function m(h){this.startTime=0;this.currentTime=h.currentTime||0;this.duration=h.duration||NaN;this.playInterval=null;this.paused=true;this.playbackRate=this.defaultPlaybackRate=1;this.ended=h.endedCallback||p.nop}function e(h){function i(H){N.unshift(H)}function j(H){if(E){d.seeking=true;n.dispatchEvent("seeking");D.seekTo(H);d.ended=false;d.seeking=false;n.dispatchEvent("timeupdate");n.dispatchEvent("seeked");n.dispatchEvent("canplay");n.dispatchEvent("canplaythrough")}else i(function(){j(H)})}
function q(){n.dispatchEvent("timeupdate")}function k(){d.paused=true;clearInterval(C);n.dispatchEvent("pause")}function s(){if(d.loop){j(0);n.play()}else{d.ended=true;k();n.dispatchEvent("timeupdate");n.dispatchEvent("ended")}}var n=this,r=typeof h==="string"?f.querySelector(h):h,u=f.createElement("div"),E=false,D,d={src:c,networkState:n.NETWORK_EMPTY,readyState:n.HAVE_NOTHING,autoplay:c,preload:c,controls:c,loop:false,poster:c,volume:1,muted:false,width:r.width|0?r.width:n._util.MIN_WIDTH,height:r.height|
0?r.height:n._util.MIN_HEIGHT,seeking:false,ended:false,paused:1,error:null},N=[],C;n._eventNamespace=p.guid("HTMLNullVideoElement::");n.parentNode=r;n._util.type="NullVideo";n.play=function(){if(E){D.play();if(d.paused){if(d.paused===1){d.paused=false;n.dispatchEvent("play");n.dispatchEvent("playing")}else{if(d.ended){j(0);d.ended=false}if(d.paused){d.paused=false;d.loop||n.dispatchEvent("play");n.dispatchEvent("playing")}}C=setInterval(q,n._util.TIMEUPDATE_MS)}}else i(function(){n.play()})};n.pause=
function(){if(E){D.pause();d.paused||k()}else i(function(){n.pause()})};Object.defineProperties(n,{src:{get:function(){return d.src},set:function(H){if(H&&H!==d.src)if(n._canPlaySrc(H)){d.src=H;if(E)if(E&&D){D.pause();D=null;r.removeChild(u);u=f.createElement("div")}u.width=d.width;u.height=d.height;r.appendChild(u);H=g.exec(H);D=new m({currentTime:+H[1],duration:+H[2],endedCallback:s});n.dispatchEvent("loadstart");n.dispatchEvent("progress");n.dispatchEvent("durationchange");E=true;d.networkState=
n.NETWORK_IDLE;d.readyState=n.HAVE_METADATA;n.dispatchEvent("loadedmetadata");n.dispatchEvent("loadeddata");d.readyState=n.HAVE_FUTURE_DATA;n.dispatchEvent("canplay");d.readyState=n.HAVE_ENOUGH_DATA;n.dispatchEvent("canplaythrough");for(H=N.length;H--;){N[H]();delete N[H]}d.autoplay&&n.play()}else{d.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};n.dispatchEvent("error")}}},autoplay:{get:function(){return d.autoplay},set:function(H){d.autoplay=
n._util.isAttributeSet(H)}},loop:{get:function(){return d.loop},set:function(H){d.loop=n._util.isAttributeSet(H)}},width:{get:function(){return u.width},set:function(H){u.width=H;d.width=u.width}},height:{get:function(){return u.height},set:function(H){u.height=H;d.height=u.height}},currentTime:{get:function(){var H;H=E?D.currentTime:0;return H},set:function(H){j(H)}},duration:{get:function(){return D?D.duration:NaN}},ended:{get:function(){return d.ended}},paused:{get:function(){return d.paused}},
seeking:{get:function(){return d.seeking}},readyState:{get:function(){return d.readyState}},networkState:{get:function(){return d.networkState}},volume:{get:function(){return d.volume},set:function(H){if(H<0||H>1)throw"Volume value must be between 0.0 and 1.0";d.volume=H;n.dispatchEvent("volumechange")}},muted:{get:function(){return d.muted},set:function(H){H=n._util.isAttributeSet(H);d.muted=H;n.dispatchEvent("volumechange")}},playbackRate:{get:function(){return D.playbackRate},set:function(H){D.playbackRate=
H;n.dispatchEvent("ratechange")}},error:{get:function(){return d.error}}})}var c="",g=/#t=(\d+\.?\d*)?,?(\d+\.?\d*)/;m.prototype={play:function(){var h=this;if(this.paused){this.paused=false;this.startTime=Date.now();this.playInterval=setInterval(function(){h.currentTime+=(Date.now()-h.startTime)/(1E3/h.playbackRate);h.startTime=Date.now();if(h.currentTime>=h.duration){h.pause(h.duration);h.ended()}h.currentTime<0&&h.pause(0)},16)}},pause:function(){if(!this.paused){this.paused=true;clearInterval(this.playInterval)}},
seekTo:function(h){h=h<0?0:h;this.currentTime=h=h>this.duration?this.duration:h}};e.prototype=new p._MediaElementProto;e.prototype.constructor=e;e.prototype._canPlaySrc=function(h){return g.test(h)?"probably":c};e.prototype.canPlayType=function(h){return h==="video/x-nullvideo"?"probably":c};p.HTMLNullVideoElement=function(h){return new e(h)};p.HTMLNullVideoElement._canPlaySrc=e.prototype._canPlaySrc})(Popcorn,document);(function(p,f,m){function e(){if(f.jwplayer){j=true;for(var s=k.length;s--;){k[s]();delete k[s]}}else setTimeout(e,100)}function c(){if(!q){if(!f.jwplayer){var s=m.createElement("script");s.src=(f.location.protocol==="file:"?"http:":"")+"//jwpsrv.com/library/zaIF4JI9EeK2FSIACpYGxA.js";var n=m.getElementsByTagName("script")[0];n.parentNode.insertBefore(s,n)}q=true;e()}return j}function g(s){k.unshift(s)}function h(s){function n(I){F.unshift(I)}function r(){setTimeout(function(){v.duration=J.getDuration();
A.dispatchEvent("durationchange");v.readyState=A.HAVE_METADATA;A.dispatchEvent("loadedmetadata");A.dispatchEvent("loadeddata");v.readyState=A.HAVE_FUTURE_DATA;A.dispatchEvent("canplay");for(x=true;F.length;){F[0]();F.shift()}v.readyState=A.HAVE_ENOUGH_DATA;A.dispatchEvent("canplaythrough")},0)}function u(){if(B)B=false;else if(S){S=false;r()}else o()}function E(){if(v.seeking){v.ended=false;v.seeking=false;A.dispatchEvent("timeupdate");A.dispatchEvent("seeked");A.dispatchEvent("canplay");A.dispatchEvent("canplaythrough")}}
function D(){J.onPause(u);J.onTime(function(){if(!v.ended&&!v.seeking){v.currentTime=J.getPosition();A.dispatchEvent("timeupdate")}});J.onSeek(E);J.onPlay(function(){if(!v.ended)if(Q){Q=false;if(v.autoplay||!v.paused){v.paused=false;n(a);r()}else{t=S=true;J.pause(true)}}else if(t){t=false;B=true;J.pause(true)}else a()});J.onBufferChange(b);J.onComplete(l);J.play(true)}function d(I){var P={name:"MediaError"};P.message=I.message;P.code=I.code||5;v.error=P;A.dispatchEvent("error")}function N(I){if(A._canPlaySrc(I)){v.src=
I;if(c()){if(z)z&&J&&J.destroy();jwplayer(G.id).setup({file:I,width:"100%",height:"100%",controls:false});J=jwplayer(G.id);J.onReady(D);J.onError(d);jwplayer.utils.log=function(P,R){if(typeof console!=="undefined"&&typeof console.log!=="undefined")R?console.log(P,R):console.log(P);P==="No suitable players found and fallback enabled"&&d({message:P,code:4})};v.networkState=A.NETWORK_LOADING;A.dispatchEvent("loadstart");A.dispatchEvent("progress")}else g(function(){N(I)})}else{v.error={name:"MediaError",
message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};A.dispatchEvent("error")}}function C(I){v.currentTime=I;if(x){H();J.seek(I)}else n(function(){H();J.seek(I)})}function H(){v.seeking=true;if(v.paused)t=true;A.dispatchEvent("seeking")}function a(){v.paused=false;if(L){L=false;if(v.loop&&!O||!v.loop){O=true;A.dispatchEvent("play")}A.dispatchEvent("playing")}}function b(){A.dispatchEvent("progress")}function o(){v.paused=true;if(!L){L=true;A.dispatchEvent("pause")}}function l(){if(v.loop)C(0);
else{v.ended=true;o();A.dispatchEvent("timeupdate");A.dispatchEvent("ended")}}function w(I){v.volume=I;if(x){J.setVolume(v.volume*100);A.dispatchEvent("volumechange")}else n(function(){w(v.volume)})}function y(I){v.muted=I;if(x){J.setMute(I);A.dispatchEvent("volumechange")}else n(function(){y(v.muted)})}if(!f.postMessage)throw"ERROR: HTMLJWPlayerVideoElement requires window.postMessage";var A=this,G=typeof s==="string"?m.querySelector(s):s,v={src:i,networkState:A.NETWORK_EMPTY,readyState:A.HAVE_NOTHING,
seeking:false,autoplay:i,preload:i,controls:false,loop:false,poster:i,volume:1,muted:false,currentTime:0,duration:NaN,ended:false,paused:true,error:null},z=false,B=false,t=false,x=false,O=false,J,L=true,F=[],Q=true,S=false;A._eventNamespace=p.guid("HTMLJWPlayerVideoElement::");A.parentNode=G;A._util.type="JWPlayer";A.play=function(){A.dispatchEvent("play");v.paused=false;if(x){if(v.ended){C(0);v.ended=false}J.play(true)}else n(function(){A.play()})};A.pause=function(){v.paused=true;x?J.pause(true):
n(function(){A.pause()})};Object.defineProperties(A,{src:{get:function(){return v.src},set:function(I){I&&I!==v.src&&N(I)}},autoplay:{get:function(){return v.autoplay},set:function(I){v.autoplay=A._util.isAttributeSet(I)}},loop:{get:function(){return v.loop},set:function(I){v.loop=A._util.isAttributeSet(I)}},width:{get:function(){return A.parentNode.offsetWidth}},height:{get:function(){return A.parentNode.offsetHeight}},currentTime:{get:function(){return v.currentTime},set:function(I){C(I)}},duration:{get:function(){return J.getDuration()}},
ended:{get:function(){return v.ended}},paused:{get:function(){return v.paused}},seeking:{get:function(){return v.seeking}},readyState:{get:function(){return v.readyState}},networkState:{get:function(){return v.networkState}},volume:{get:function(){return v.volume},set:function(I){if(I<0||I>1)throw"Volume value must be between 0.0 and 1.0";w(I)}},muted:{get:function(){return v.muted},set:function(I){y(A._util.isAttributeSet(I))}},error:{get:function(){return v.error}},buffered:{get:function(){var I=
{start:function(P){if(P===0)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1";},end:function(P){if(P===0){P=J.getDuration();if(!P)return 0;return P*(J.getBuffer()/100)}throw"INDEX_SIZE_ERR: DOM Exception 1";}};Object.defineProperties(I,{length:{get:function(){return 1}}});return I}}})}var i="",j=false,q=false,k=[];h.prototype=new p._MediaElementProto;h.prototype.constructor=h;h.prototype._canPlaySrc=function(){return"probably"};h.prototype.canPlayType=function(){return"probably"};p.HTMLJWPlayerVideoElement=
function(s){return new h(s)};p.HTMLJWPlayerVideoElement._canPlaySrc=h.prototype._canPlaySrc})(Popcorn,window,document);(function(p,f){function m(){return"maybe"}function e(c,g){var h=typeof c==="string"?f.querySelector(c):c,i=f.createElement(g);h.appendChild(i);i._canPlaySrc=m;return i}p.HTMLVideoElement=function(c){return e(c,"video")};p.HTMLVideoElement._canPlaySrc=m;p.HTMLAudioElement=function(c){return e(c,"audio")};p.HTMLAudioElement._canPlaySrc=m})(Popcorn,window.document);(function(p,f,m){function e(j){var q=this,k=j.src.split("?")[0];if(k.substr(0,2)==="//")k=f.location.protocol+k;"play pause paused seekTo unload getCurrentTime getDuration getVideoEmbedCode getVideoHeight getVideoWidth getVideoUrl getColor setColor setLoop getVolume setVolume addEventListener".split(" ").forEach(function(s){q[s]=function(n){n=JSON.stringify({method:s,value:n});j.contentWindow&&j.contentWindow.postMessage(n,k)}})}function c(j){function q(z){y.unshift(z)}function k(z){var B=b.duration;
if(B!==z){b.duration=z;C.dispatchEvent("durationchange");if(isNaN(B)){b.networkState=C.NETWORK_IDLE;b.readyState=C.HAVE_METADATA;C.dispatchEvent("loadedmetadata");C.dispatchEvent("loadeddata");b.readyState=C.HAVE_FUTURE_DATA;C.dispatchEvent("canplay");b.readyState=C.HAVE_ENOUGH_DATA;C.dispatchEvent("canplaythrough");b.autoplay&&C.play();for(z=y.length;z--;){y[z]();delete y[z]}}}}function s(z){if(o){b.seeking=true;C.dispatchEvent("seeking");w.seekTo(z)}else q(function(){s(z)})}function n(){C.dispatchEvent("timeupdate")}
function r(z){(b.currentTime=z)!==v&&C.dispatchEvent("timeupdate");v=b.currentTime}function u(z){if(z.origin===i){var B;try{B=JSON.parse(z.data)}catch(t){console.warn(t)}if(B.player_id==l)switch(B.event){case "ready":w=new e(a);w.addEventListener("loadProgress");w.addEventListener("pause");w.setVolume(0);w.play();break;case "loadProgress":if(parseFloat(B.data.duration)>0&&!o){o=true;w.pause()}break;case "pause":w.setVolume(1);f.removeEventListener("message",u,false);f.addEventListener("message",E,
false);w.addEventListener("loadProgress");w.addEventListener("playProgress");w.addEventListener("play");w.addEventListener("pause");w.addEventListener("finish");w.addEventListener("seek");w.getDuration();b.networkState=C.NETWORK_LOADING;C.dispatchEvent("loadstart");C.dispatchEvent("progress")}}}function E(z){if(z.origin===i){var B;try{B=JSON.parse(z.data)}catch(t){console.warn(t)}if(B.player_id==l){switch(B.method){case "getCurrentTime":r(parseFloat(B.value));break;case "getDuration":k(parseFloat(B.value));
break;case "getVolume":z=parseFloat(B.value);if(b.volume!==z){b.volume=z;C.dispatchEvent("volumechange")}}switch(B.event){case "loadProgress":C.dispatchEvent("progress");k(parseFloat(B.data.duration));break;case "playProgress":r(parseFloat(B.data.seconds));break;case "play":b.ended&&s(0);if(!G){G=setInterval(D,g);b.loop&&C.dispatchEvent("play")}A=setInterval(n,C._util.TIMEUPDATE_MS);if(b.paused){b.paused=false;b.loop||C.dispatchEvent("play");C.dispatchEvent("playing")}break;case "pause":b.paused=
true;clearInterval(A);C.dispatchEvent("pause");break;case "finish":if(b.loop){s(0);C.play()}else{b.ended=true;C.dispatchEvent("ended")}break;case "seek":r(parseFloat(B.data.seconds));b.seeking=false;C.dispatchEvent("timeupdate");C.dispatchEvent("seeked");C.dispatchEvent("canplay");C.dispatchEvent("canplaythrough");b.paused&&C.pause()}}}}function D(){w.getCurrentTime()}function d(z){b.volume=z;if(o){w.setVolume(z);C.dispatchEvent("volumechange")}else q(function(){d(z)})}function N(z){if(o)if(z){b.muted=
b.volume;d(0)}else{b.muted=0;d(b.muted)}else{b.muted=z?1:0;q(function(){N(z)})}}if(!f.postMessage)throw"ERROR: HTMLVimeoVideoElement requires window.postMessage";var C=this,H=typeof j==="string"?p.dom.find(j):j,a=m.createElement("iframe"),b={src:h,networkState:C.NETWORK_EMPTY,readyState:C.HAVE_NOTHING,seeking:false,autoplay:h,preload:h,controls:false,loop:false,poster:h,volume:1,muted:0,currentTime:0,duration:NaN,ended:false,paused:true,error:null},o=false,l=p.guid(),w,y=[],A,G,v=0;C._eventNamespace=
p.guid("HTMLVimeoVideoElement::");C.parentNode=H;C._util.type="Vimeo";C.play=function(){o?w.play():q(function(){C.play()})};C.pause=function(){o?w.pause():q(function(){C.pause()})};Object.defineProperties(C,{src:{get:function(){return b.src},set:function(z){if(z&&z!==b.src)if(C._canPlaySrc(z)){b.src=z;if(o)if(o&&w){clearInterval(G);w.pause();f.removeEventListener("message",E,false);H.removeChild(a);a=m.createElement("iframe")}o=false;z=C._util.parseUri(z);var B=z.queryKey,t,x=["api=1","player_id="+
l,"title=0","byline=0","portrait=0"];b.loop=B.loop==="1"||b.loop;delete B.loop;b.autoplay=B.autoplay==="1"||b.autoplay;delete B.autoplay;z=i+"/video/"+/\d+$/.exec(z.path)+"?";for(t in B)B.hasOwnProperty(t)&&x.push(encodeURIComponent(t)+"="+encodeURIComponent(B[t]));z+=x.join("&");a.id=l;a.style.width="100%";a.style.height="100%";a.frameBorder=0;a.webkitAllowFullScreen=true;a.mozAllowFullScreen=true;a.allowFullScreen=true;H.appendChild(a);a.src=z;f.addEventListener("message",u,false)}else{b.error=
{name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};C.dispatchEvent("error")}}},autoplay:{get:function(){return b.autoplay},set:function(z){b.autoplay=C._util.isAttributeSet(z)}},loop:{get:function(){return b.loop},set:function(z){b.loop=C._util.isAttributeSet(z)}},width:{get:function(){return C.parentNode.offsetWidth}},height:{get:function(){return C.parentNode.offsetHeight}},currentTime:{get:function(){return b.currentTime},set:function(z){s(z)}},
duration:{get:function(){return b.duration}},ended:{get:function(){return b.ended}},paused:{get:function(){return b.paused}},seeking:{get:function(){return b.seeking}},readyState:{get:function(){return b.readyState}},networkState:{get:function(){return b.networkState}},volume:{get:function(){return b.muted>0?b.muted:b.volume},set:function(z){if(z<0||z>1)throw"Volume value must be between 0.0 and 1.0";d(z)}},muted:{get:function(){return b.muted>0},set:function(z){N(C._util.isAttributeSet(z))}},error:{get:function(){return b.error}}})}
var g=16,h="",i=f.location.protocol+"//player.vimeo.com";c.prototype=new p._MediaElementProto;c.prototype.constructor=c;c.prototype._canPlaySrc=function(j){return/player.vimeo.com\/video\/\d+/.test(j)||/vimeo.com\/\d+/.test(j)?"probably":h};c.prototype.canPlayType=function(j){return j==="video/x-vimeo"?"probably":h};p.HTMLVimeoVideoElement=function(j){return new c(j)};p.HTMLVimeoVideoElement._canPlaySrc=c.prototype._canPlaySrc})(Popcorn,window,document);(function(p){var f=function(m,e){var c=0,g=0,h;p.forEach(e.classes,function(i,j){h=[];if(i==="parent")h[0]=document.querySelectorAll("#"+e.target)[0].parentNode;else h=document.querySelectorAll("#"+e.target+" "+i);c=0;for(g=h.length;c<g;c++)h[c].classList.toggle(j)})};p.compose("applyclass",{manifest:{about:{name:"Popcorn applyclass Effect",version:"0.1",author:"@scottdowne",website:"scottdowne.wordpress.com"},options:{}},_setup:function(m){m.classes={};m.applyclass=m.applyclass||"";for(var e=m.applyclass.replace(/\s/g,
"").split(","),c=[],g=0,h=e.length;g<h;g++){c=e[g].split(":");if(c[0])m.classes[c[0]]=c[1]||""}},start:f,end:f})})(Popcorn);(function(p){p.plugin("mustache",function(f){var m,e,c,g;p.getScript("http://mustache.github.com/extras/mustache.js");var h=!!f.dynamic,i=typeof f.template,j=typeof f.data,q=document.getElementById(f.target);f.container=q||document.createElement("div");if(i==="function")if(h)c=f.template;else g=f.template(f);else g=i==="string"?f.template:"";if(j==="function")if(h)m=f.data;else e=f.data(f);else e=j==="string"?JSON.parse(f.data):j==="object"?f.data:"";return{start:function(k,s){var n=function(){if(window.Mustache){if(m)e=
m(s);if(c)g=c(s);var r=Mustache.to_html(g,e).replace(/^\s*/mg,"");s.container.innerHTML=r}else setTimeout(function(){n()},10)};n()},end:function(k,s){s.container.innerHTML=""},_teardown:function(){m=e=c=g=null}}},{about:{name:"Popcorn Mustache Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"mustache-container",template:{elem:"input",type:"text",
label:"Template"},data:{elem:"input",type:"text",label:"Data"},dynamic:{elem:"input",type:"checkbox",label:"Dynamic","default":true}}})})(Popcorn);(function(p){var f=/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu|vimeo|soundcloud|baseplayer)/,m={},e={vimeo:false,youtube:false,soundcloud:false,module:false};Object.defineProperty(m,void 0,{get:function(){return e[void 0]},set:function(c){e[void 0]=c}});p.plugin("mediaspawner",{manifest:{about:{name:"Popcorn Media Spawner Plugin",version:"0.1",author:"Matthew Schranz, @mjschranz",website:"mschranz.wordpress.com"},options:{source:{elem:"input",type:"text",label:"Media Source","default":"http://www.youtube.com/watch?v=CXDstfD9eJ0"},
caption:{elem:"input",type:"text",label:"Media Caption","default":"Popcorn Popping",optional:true},target:"mediaspawner-container",start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},autoplay:{elem:"input",type:"checkbox",label:"Autoplay Video",optional:true},width:{elem:"input",type:"number",label:"Media Width","default":400,units:"px",optional:true},height:{elem:"input",type:"number",label:"Media Height","default":200,units:"px",optional:true}}},_setup:function(c){function g(){function s(){if(j!==
"HTML5"&&!window.Popcorn[j])setTimeout(function(){s()},300);else{c.id=c._container.id;c._container.style.width=c.width+"px";c._container.style.height=c.height+"px";c.popcorn=p.smart("#"+c.id,c.source);j==="HTML5"&&c.popcorn.controls(true);c._container.style.width="0px";c._container.style.height="0px";c._container.style.visibility="hidden";c._container.style.overflow="hidden"}}if(j!=="HTML5"&&!window.Popcorn[j]&&!m[j]){m[j]=true;p.getScript("http://popcornjs.org/code/players/"+j+"/popcorn."+j+".js",
function(){s()})}else s()}function h(){window.Popcorn.player?g():setTimeout(function(){h()},300)}var i=document.getElementById(c.target)||{},j,q,k;if(q=f.exec(c.source)){j=q[1];if(j==="youtu")j="youtube"}else j="HTML5";c._type=j;c._container=document.createElement("div");q=c._container;q.id="mediaSpawnerdiv-"+p.guid();c.width=c.width||400;c.height=c.height||200;if(c.caption){k=document.createElement("div");k.innerHTML=c.caption;k.style.display="none";c._capCont=k;q.appendChild(k)}i&&i.appendChild(q);
if(!window.Popcorn.player&&!m.module){m.module=true;p.getScript("http://popcornjs.org/code/modules/player/popcorn.player.js",h)}else h();c.toString=function(){return c.source||c._natives.manifest.options.source["default"]}},start:function(c,g){if(g._capCont)g._capCont.style.display="";g._container.style.width=g.width+"px";g._container.style.height=g.height+"px";g._container.style.visibility="visible";g._container.style.overflow="visible";g.autoplay&&g.popcorn.play()},end:function(c,g){if(g._capCont)g._capCont.style.display=
"none";g._container.style.width="0px";g._container.style.height="0px";g._container.style.visibility="hidden";g._container.style.overflow="hidden";g.popcorn.pause()},_teardown:function(c){c.popcorn&&c.popcorn.destory&&c.popcorn.destroy();document.getElementById(c.target)&&document.getElementById(c.target).removeChild(c._container)}})})(Popcorn,this);(function(p){var f=0;p.plugin("flickr",function(m){var e,c=document.getElementById(m.target),g,h,i,j,q=m.numberofimages||4,k=m.height||"50px",s=m.width||"50px",n=m.padding||"5px",r=m.border||"0px";e=document.createElement("div");e.id="flickr"+f;e.style.width="100%";e.style.height="100%";e.style.display="none";f++;c&&c.appendChild(e);var u=function(){if(g)setTimeout(function(){u()},5);else{h="http://api.flickr.com/services/rest/?method=flickr.people.findByUsername&";h+="username="+m.username+"&api_key="+
m.apikey+"&format=json&jsoncallback=flickr";p.getJSONP(h,function(D){g=D.user.nsid;E()})}},E=function(){h="http://api.flickr.com/services/feeds/photos_public.gne?";if(g)h+="id="+g+"&";if(m.tags)h+="tags="+m.tags+"&";h+="lang=en-us&format=json&jsoncallback=flickr";p.xhr.getJSONP(h,function(D){var d=document.createElement("div");d.innerHTML="<p style='padding:"+n+";'>"+D.title+"<p/>";p.forEach(D.items,function(N,C){if(C<q){i=document.createElement("a");i.setAttribute("href",N.link);i.setAttribute("target",
"_blank");j=document.createElement("img");j.setAttribute("src",N.media.m);j.setAttribute("height",k);j.setAttribute("width",s);j.setAttribute("style","border:"+r+";padding:"+n);i.appendChild(j);d.appendChild(i)}else return false});e.appendChild(d)})};if(m.username&&m.apikey)u();else{g=m.userid;E()}m.toString=function(){return m.tags||m.username||"Flickr"};return{start:function(){e.style.display="inline"},end:function(){e.style.display="none"},_teardown:function(D){document.getElementById(D.target)&&
document.getElementById(D.target).removeChild(e)}}},{about:{name:"Popcorn Flickr Plugin",version:"0.2",author:"Scott Downe, Steven Weerdenburg, Annasob",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},userid:{elem:"input",type:"text",label:"User ID",optional:true},tags:{elem:"input",type:"text",label:"Tags"},username:{elem:"input",type:"text",label:"Username",optional:true},apikey:{elem:"input",type:"text",
label:"API Key",optional:true},target:"flickr-container",height:{elem:"input",type:"text",label:"Height","default":"50px",optional:true},width:{elem:"input",type:"text",label:"Width","default":"50px",optional:true},padding:{elem:"input",type:"text",label:"Padding",optional:true},border:{elem:"input",type:"text",label:"Border","default":"5px",optional:true},numberofimages:{elem:"input",type:"number","default":4,label:"Number of Images"}}})})(Popcorn);(function(p){p.plugin("code",function(f){var m=false,e=this,c=function(){var g=function(h){return function(i,j){var q=function(){m&&i.call(e,j);m&&h(q)};q()}};return window.webkitRequestAnimationFrame?g(window.webkitRequestAnimationFrame):window.mozRequestAnimationFrame?g(window.mozRequestAnimationFrame):g(function(h){window.setTimeout(h,16)})}();if(!f.onStart||typeof f.onStart!=="function")f.onStart=p.nop;if(f.onEnd&&typeof f.onEnd!=="function")f.onEnd=undefined;if(f.onFrame&&typeof f.onFrame!==
"function")f.onFrame=undefined;return{start:function(g,h){h.onStart.call(e,h);if(h.onFrame){m=true;c(h.onFrame,h)}},end:function(g,h){if(h.onFrame)m=false;h.onEnd&&h.onEnd.call(e,h)}}},{about:{name:"Popcorn Code Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},onStart:{elem:"input",type:"function",label:"onStart"},onFrame:{elem:"input",type:"function",label:"onFrame",
optional:true},onEnd:{elem:"input",type:"function",label:"onEnd"}}})})(Popcorn);(function(p){p.plugin("webpage",{manifest:{about:{name:"Popcorn Webpage Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{id:{elem:"input",type:"text",label:"Id",optional:true},start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},src:{elem:"input",type:"url",label:"Webpage URL","default":"http://mozillapopcorn.org"},target:"iframe-container"}},_setup:function(f){var m=document.getElementById(f.target);f.src=f.src.replace(/^(https?:)?(\/\/)?/,
"//");f._iframe=document.createElement("iframe");f._iframe.setAttribute("width","100%");f._iframe.setAttribute("height","100%");f._iframe.id=f.id;f._iframe.src=f.src;f._iframe.style.display="none";m&&m.appendChild(f._iframe)},start:function(f,m){m._iframe.src=m.src;m._iframe.style.display="inline"},end:function(f,m){m._iframe.style.display="none"},_teardown:function(f){document.getElementById(f.target)&&document.getElementById(f.target).removeChild(f._iframe)}})})(Popcorn);(function(p){var f=1,m=false;p.plugin("googlefeed",function(e){var c=function(){var j=false,q=0,k=document.getElementsByTagName("link"),s=k.length,n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("link");if(window.GFdynamicFeedControl)m=true;else p.getScript("//www.google.com/uds/solutions/dynamicfeed/gfdynamicfeedcontrol.js",function(){m=true});for(;q<s;q++)if(k[q].href==="//www.google.com/uds/solutions/dynamicfeed/gfdynamicfeedcontrol.css")j=true;if(!j){r.type=
"text/css";r.rel="stylesheet";r.href="//www.google.com/uds/solutions/dynamicfeed/gfdynamicfeedcontrol.css";n.insertBefore(r,n.firstChild)}};window.google?c():p.getScript("//www.google.com/jsapi",function(){google.load("feeds","1",{callback:function(){c()}})});var g=document.createElement("div"),h=document.getElementById(e.target),i=function(){if(m)e.feed=new GFdynamicFeedControl(e.url,g,{vertical:e.orientation.toLowerCase()==="vertical"?true:false,horizontal:e.orientation.toLowerCase()==="horizontal"?
true:false,title:e.title=e.title||"Blog"});else setTimeout(function(){i()},5)};if(!e.orientation||e.orientation.toLowerCase()!=="vertical"&&e.orientation.toLowerCase()!=="horizontal")e.orientation="vertical";g.style.display="none";g.id="_feed"+f;g.style.width="100%";g.style.height="100%";f++;h&&h.appendChild(g);i();e.toString=function(){return e.url||e._natives.manifest.options.url["default"]};return{start:function(){g.setAttribute("style","display:inline")},end:function(){g.setAttribute("style",
"display:none")},_teardown:function(j){document.getElementById(j.target)&&document.getElementById(j.target).removeChild(g);delete j.feed}}},{about:{name:"Popcorn Google Feed Plugin",version:"0.1",author:"David Seifried",website:"dseifried.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"feed-container",url:{elem:"input",type:"url",label:"Feed URL","default":"http://planet.mozilla.org/rss20.xml"},title:{elem:"input",type:"text",
label:"Title","default":"Planet Mozilla",optional:true},orientation:{elem:"select",options:["Vertical","Horizontal"],label:"Orientation","default":"Vertical",optional:true}}})})(Popcorn);var googleCallback;
(function(p){function f(i,j,q){i=i.type?i.type.toUpperCase():"HYBRID";var k;if(i==="STAMEN-WATERCOLOR"||i==="STAMEN-TERRAIN"||i==="STAMEN-TONER")k=i.replace("STAMEN-","").toLowerCase();q=new google.maps.Map(q,{mapTypeId:k?k:google.maps.MapTypeId[i],mapTypeControlOptions:{mapTypeIds:[]}});k&&q.mapTypes.set(k,new google.maps.StamenMapType(k));q.getDiv().style.display="none";return q}var m=1,e=false,c=false,g,h;googleCallback=function(i){if(typeof google!=="undefined"&&google.maps&&google.maps.Geocoder&&
google.maps.LatLng){g=new google.maps.Geocoder;p.getScript("//maps.stamen.com/js/tile.stamen.js",function(){c=true})}else setTimeout(function(){googleCallback(i)},1)};h=function(){if(document.body){e=true;p.getScript("//maps.google.com/maps/api/js?sensor=false&callback=googleCallback")}else setTimeout(function(){h()},1)};p.plugin("googlemap",function(i){var j,q,k,s=document.getElementById(i.target);i.type=i.type||"ROADMAP";i.zoom=i.zoom||1;i.lat=i.lat||0;i.lng=i.lng||0;e||h();j=document.createElement("div");
j.id="actualmap"+m;j.style.width=i.width||"100%";j.style.height=i.height?i.height:s&&s.clientHeight?s.clientHeight+"px":"100%";m++;s&&s.appendChild(j);var n=function(){if(c){if(j)if(i.location)g.geocode({address:i.location},function(r,u){if(j&&u===google.maps.GeocoderStatus.OK){i.lat=r[0].geometry.location.lat();i.lng=r[0].geometry.location.lng();k=new google.maps.LatLng(i.lat,i.lng);q=f(i,k,j)}});else{k=new google.maps.LatLng(i.lat,i.lng);q=f(i,k,j)}}else setTimeout(function(){n()},5)};n();i.toString=
function(){return i.location||(i.lat&&i.lng?i.lat+", "+i.lng:i._natives.manifest.options.location["default"])};return{start:function(r,u){var E=this,D,d=function(){if(q){u._map=q;q.getDiv().style.display="block";google.maps.event.trigger(q,"resize");q.setCenter(k);if(u.zoom&&typeof u.zoom!=="number")u.zoom=+u.zoom;q.setZoom(u.zoom);if(u.heading&&typeof u.heading!=="number")u.heading=+u.heading;if(u.pitch&&typeof u.pitch!=="number")u.pitch=+u.pitch;if(u.type==="STREETVIEW"){q.setStreetView(D=new google.maps.StreetViewPanorama(j,
{position:k,pov:{heading:u.heading=u.heading||0,pitch:u.pitch=u.pitch||0,zoom:u.zoom}}));var N=function(w,y){var A=google.maps.geometry.spherical.computeHeading;setTimeout(function(){var G=E.media.currentTime;if(typeof u.tween==="object"){for(var v=0,z=w.length;v<z;v++){var B=w[v];if(G>=B.interval*(v+1)/1E3&&(G<=B.interval*(v+2)/1E3||G>=B.interval*z/1E3)){o.setPosition(new google.maps.LatLng(B.position.lat,B.position.lng));o.setPov({heading:B.pov.heading||A(B,w[v+1])||0,zoom:B.pov.zoom||0,pitch:B.pov.pitch||
0})}}N(w,w[0].interval)}else{v=0;for(z=w.length;v<z;v++){B=u.interval;if(G>=B*(v+1)/1E3&&(G<=B*(v+2)/1E3||G>=B*z/1E3)){C.setPov({heading:A(w[v],w[v+1])||0,zoom:u.zoom,pitch:u.pitch||0});C.setPosition(H[v])}}N(H,u.interval)}},y)};if(u.location&&typeof u.tween==="string"){var C=D,H=[],a=new google.maps.DirectionsService,b=new google.maps.DirectionsRenderer(C);a.route({origin:u.location,destination:u.tween,travelMode:google.maps.TravelMode.DRIVING},function(w,y){if(y==google.maps.DirectionsStatus.OK){b.setDirections(w);
for(var A=w.routes[0].overview_path,G=0,v=A.length;G<v;G++)H.push(new google.maps.LatLng(A[G].lat(),A[G].lng()));u.interval=u.interval||1E3;N(H,10)}})}else if(typeof u.tween==="object"){var o=D;a=0;for(var l=u.tween.length;a<l;a++){u.tween[a].interval=u.tween[a].interval||1E3;N(u.tween,10)}}}u.onmaploaded&&u.onmaploaded(u,q)}else setTimeout(function(){d()},13)};d()},end:function(){if(q)q.getDiv().style.display="none"},_teardown:function(r){var u=document.getElementById(r.target);u&&u.removeChild(j);
j=q=k=null;r._map=null}}},{about:{name:"Popcorn Google Map Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"start",label:"Start"},end:{elem:"input",type:"start",label:"End"},target:"map-container",type:{elem:"select",options:["ROADMAP","SATELLITE","STREETVIEW","HYBRID","TERRAIN","STAMEN-WATERCOLOR","STAMEN-TERRAIN","STAMEN-TONER"],label:"Map Type",optional:true},zoom:{elem:"input",type:"text",label:"Zoom","default":0,optional:true},lat:{elem:"input",
type:"text",label:"Lat",optional:true},lng:{elem:"input",type:"text",label:"Lng",optional:true},location:{elem:"input",type:"text",label:"Location","default":"Toronto, Ontario, Canada"},heading:{elem:"input",type:"text",label:"Heading","default":0,optional:true},pitch:{elem:"input",type:"text",label:"Pitch","default":1,optional:true}}})})(Popcorn);(function(p){function f(c){function g(){var q=c.getBoundingClientRect(),k=i.getBoundingClientRect();if(k.left!==q.left)i.style.left=q.left+"px";if(k.top!==q.top)i.style.top=q.top+"px"}var h=-1,i=document.createElement("div"),j=getComputedStyle(c).zIndex;i.setAttribute("data-popcorn-helper-container",true);i.style.position="absolute";i.style.zIndex=isNaN(j)?m:j+1;document.body.appendChild(i);return{element:i,start:function(){h=setInterval(g,e)},stop:function(){clearInterval(h);h=-1},destroy:function(){document.body.removeChild(i);
h!==-1&&clearInterval(h)}}}var m=2E3,e=10;p.plugin("image",{manifest:{about:{name:"Popcorn image Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},src:{elem:"input",type:"url",label:"Image URL","default":"http://mozillapopcorn.org/wp-content/themes/popcorn/images/for_developers.png"},href:{elem:"input",type:"url",label:"Link","default":"http://mozillapopcorn.org/wp-content/themes/popcorn/images/for_developers.png",
optional:true},target:"image-container",text:{elem:"input",type:"text",label:"Caption","default":"Popcorn.js",optional:true}}},_setup:function(c){var g=document.createElement("img"),h=document.getElementById(c.target);c.anchor=document.createElement("a");c.anchor.style.position="relative";c.anchor.style.textDecoration="none";c.anchor.style.display="none";if(h)if(["VIDEO","AUDIO"].indexOf(h.nodeName)>-1){c.trackedContainer=f(h);c.trackedContainer.element.appendChild(c.anchor)}else h&&h.appendChild(c.anchor);
g.addEventListener("load",function(){g.style.borderStyle="none";c.anchor.href=c.href||c.src||"#";c.anchor.target="_blank";var i,j;g.style.height=h.style.height;g.style.width=h.style.width;c.anchor.appendChild(g);if(c.text){i=g.height/12+"px";j=document.createElement("div");p.extend(j.style,{color:"black",fontSize:i,fontWeight:"bold",position:"relative",textAlign:"center",width:g.style.width||g.width+"px",zIndex:"10"});j.innerHTML=c.text||"";j.style.top=(g.style.height.replace("px","")||g.height)/
2-j.offsetHeight/2+"px";c.anchor.insertBefore(j,g)}},false);g.src=c.src;c.toString=function(){var i=c.src||c._natives.manifest.options.src["default"],j=i.replace(/.*\//g,"");return j.length?j:i}},start:function(c,g){g.anchor.style.display="inline";g.trackedContainer&&g.trackedContainer.start()},end:function(c,g){g.anchor.style.display="none";g.trackedContainer&&g.trackedContainer.stop()},_teardown:function(c){if(c.trackedContainer)c.trackedContainer.destroy();else c.anchor.parentNode&&c.anchor.parentNode.removeChild(c.anchor)}})})(Popcorn);(function(p){function f(e,c){if(e.map)e.map.div.style.display=c;else setTimeout(function(){f(e,c)},10)}var m=1;p.plugin("openmap",function(e){var c,g,h,i,j,q,k,s,n=document.getElementById(e.target);c=document.createElement("div");c.id="openmapdiv"+m;c.style.width="100%";c.style.height="100%";m++;n&&n.appendChild(c);s=function(){if(window.OpenLayers&&window.OpenLayers.Layer.Stamen){if(e.location){location=new OpenLayers.LonLat(0,0);p.getJSONP("//tinygeocoder.com/create-api.php?q="+e.location+"&callback=jsonp",
function(u){g=new OpenLayers.LonLat(u[1],u[0])})}else g=new OpenLayers.LonLat(e.lng,e.lat);e.type=e.type||"ROADMAP";switch(e.type){case "SATELLITE":e.map=new OpenLayers.Map({div:c,maxResolution:0.28125,tileSize:new OpenLayers.Size(512,512)});var r=new OpenLayers.Layer.WorldWind("LANDSAT","//worldwind25.arc.nasa.gov/tile/tile.aspx",2.25,4,{T:"105"});e.map.addLayer(r);i=new OpenLayers.Projection("EPSG:4326");h=new OpenLayers.Projection("EPSG:4326");break;case "TERRAIN":i=new OpenLayers.Projection("EPSG:4326");
h=new OpenLayers.Projection("EPSG:4326");e.map=new OpenLayers.Map({div:c,projection:h});r=new OpenLayers.Layer.WMS("USGS Terraserver","//terraserver-usa.org/ogcmap.ashx?",{layers:"DRG"});e.map.addLayer(r);break;case "STAMEN-TONER":case "STAMEN-WATERCOLOR":case "STAMEN-TERRAIN":r=e.type.replace("STAMEN-","").toLowerCase();r=new OpenLayers.Layer.Stamen(r);i=new OpenLayers.Projection("EPSG:4326");h=new OpenLayers.Projection("EPSG:900913");g=g.transform(i,h);e.map=new OpenLayers.Map({div:c,projection:h,
displayProjection:i,controls:[new OpenLayers.Control.Navigation,new OpenLayers.Control.PanPanel,new OpenLayers.Control.ZoomPanel]});e.map.addLayer(r);break;default:h=new OpenLayers.Projection("EPSG:900913");i=new OpenLayers.Projection("EPSG:4326");g=g.transform(i,h);e.map=new OpenLayers.Map({div:c,projection:h,displayProjection:i});r=new OpenLayers.Layer.OSM;e.map.addLayer(r)}if(e.map){e.map.setCenter(g,e.zoom||10);e.map.div.style.display="none"}}else setTimeout(function(){s()},50)};s();return{_setup:function(r){window.OpenLayers||
p.getScript("//openlayers.org/api/OpenLayers.js",function(){p.getScript("//maps.stamen.com/js/tile.stamen.js")});var u=function(){if(r.map){r.zoom=r.zoom||2;if(r.zoom&&typeof r.zoom!=="number")r.zoom=+r.zoom;r.map.setCenter(g,r.zoom);if(r.markers){var E=OpenLayers.Util.extend({},OpenLayers.Feature.Vector.style["default"]),D=function(l){clickedFeature=l.feature;if(clickedFeature.attributes.text){k=new OpenLayers.Popup.FramedCloud("featurePopup",clickedFeature.geometry.getBounds().getCenterLonLat(),
new OpenLayers.Size(120,250),clickedFeature.attributes.text,null,true,function(){q.unselect(this.feature)});clickedFeature.popup=k;k.feature=clickedFeature;r.map.addPopup(k)}},d=function(l){feature=l.feature;if(feature.popup){k.feature=null;r.map.removePopup(feature.popup);feature.popup.destroy();feature.popup=null}},N=function(l){p.getJSONP("//tinygeocoder.com/create-api.php?q="+l.location+"&callback=jsonp",function(w){w=(new OpenLayers.Geometry.Point(w[1],w[0])).transform(i,h);var y=OpenLayers.Util.extend({},
E);if(!l.size||isNaN(l.size))l.size=14;y.pointRadius=l.size;y.graphicOpacity=1;y.externalGraphic=l.icon;w=new OpenLayers.Feature.Vector(w,null,y);if(l.text)w.attributes={text:l.text};j.addFeatures([w])})};j=new OpenLayers.Layer.Vector("Point Layer",{style:E});r.map.addLayer(j);for(var C=0,H=r.markers.length;C<H;C++){var a=r.markers[C];if(a.text)if(!q){q=new OpenLayers.Control.SelectFeature(j);r.map.addControl(q);q.activate();j.events.on({featureselected:D,featureunselected:d})}if(a.location)N(a);
else{var b=(new OpenLayers.Geometry.Point(a.lng,a.lat)).transform(i,h),o=OpenLayers.Util.extend({},E);if(!a.size||isNaN(a.size))a.size=14;o.pointRadius=a.size;o.graphicOpacity=1;o.externalGraphic=a.icon;b=new OpenLayers.Feature.Vector(b,null,o);if(a.text)b.attributes={text:a.text};j.addFeatures([b])}}}}else setTimeout(function(){u()},13)};u()},start:function(r,u){f(u,"block")},end:function(r,u){f(u,"none")},_teardown:function(){n&&n.removeChild(c);c=map=g=h=i=j=q=k=null}}},{about:{name:"Popcorn OpenMap Plugin",
version:"0.3",author:"@mapmeld",website:"mapadelsur.blogspot.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"map-container",type:{elem:"select",options:["ROADMAP","SATELLITE","TERRAIN"],label:"Map Type",optional:true},zoom:{elem:"input",type:"number",label:"Zoom","default":2},lat:{elem:"input",type:"text",label:"Lat",optional:true},lng:{elem:"input",type:"text",label:"Lng",optional:true},location:{elem:"input",type:"text",label:"Location",
"default":"Toronto, Ontario, Canada"},markers:{elem:"input",type:"text",label:"List Markers",optional:true}}})})(Popcorn);document.addEventListener("click",function(p){p=p.target;if(p.nodeName==="A"||p.parentNode&&p.parentNode.nodeName==="A")Popcorn.instances.forEach(function(f){f.options.pauseOnLinkClicked&&f.pause()})},false);(function(p){var f=0,m=function(e,c){var g=e.container=document.createElement("div"),h=g.style,i=e.media,j=function(){var q=e.position();h.fontSize="18px";h.width=i.offsetWidth+"px";h.top=q.top+i.offsetHeight-g.offsetHeight-40+"px";h.left=q.left+"px";setTimeout(j,10)};g.id=c||p.guid();h.position="absolute";h.color="white";h.textShadow="black 2px 2px 6px";h.fontWeight="bold";h.textAlign="center";j();e.media.parentNode.appendChild(g);return g};p.plugin("subtitle",{manifest:{about:{name:"Popcorn Subtitle Plugin",
version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"Start"},end:{elem:"input",type:"text",label:"End"},target:"subtitle-container",text:{elem:"input",type:"text",label:"Text"}}},_setup:function(e){var c=document.createElement("div");c.id="subtitle-"+f++;c.style.display="none";!this.container&&(!e.target||e.target==="subtitle-container")&&m(this);e.container=e.target&&e.target!=="subtitle-container"?document.getElementById(e.target)||
m(this,e.target):this.container;document.getElementById(e.container.id)&&document.getElementById(e.container.id).appendChild(c);e.innerContainer=c;e.showSubtitle=function(){e.innerContainer.innerHTML=e.text||""}},start:function(e,c){c.innerContainer.style.display="inline";c.showSubtitle(c,c.text)},end:function(e,c){c.innerContainer.style.display="none";c.innerContainer.innerHTML=""},_teardown:function(e){e.container.removeChild(e.innerContainer)}})})(Popcorn);(function(p,f){var m={};p.plugin("documentcloud",{manifest:{about:{name:"Popcorn Document Cloud Plugin",version:"0.1",author:"@humphd, @ChrisDeCairos",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"documentcloud-container",width:{elem:"input",type:"text",label:"Width",optional:true},height:{elem:"input",type:"text",label:"Height",optional:true},src:{elem:"input",type:"url",label:"PDF URL","default":"http://www.documentcloud.org/documents/70050-urbina-day-1-in-progress.html"},
preload:{elem:"input",type:"checkbox",label:"Preload","default":true},page:{elem:"input",type:"number",label:"Page Number",optional:true},aid:{elem:"input",type:"number",label:"Annotation Id",optional:true}}},_setup:function(e){function c(){function k(l){e._key=l.api.getId();e._changeView=function(w){e.aid?w.pageSet.showAnnotation(w.api.getAnnotation(e.aid)):w.api.setCurrentPage(e.page)}}function s(){m[e._key]={num:1,id:e._containerId};h.loaded=true}h.loaded=false;var n=e.url.replace(/\.html$/,".js"),
r=e.target,u=f.getElementById(r),E=f.createElement("div"),D=p.position(u),d=e.width||D.width;D=e.height||D.height;var N=e.sidebar||true,C=e.text||true,H=e.pdf||true,a=e.showAnnotations||true,b=e.zoom||700,o=e.search||true;if(!function(l){var w=false;p.forEach(h.viewers,function(y){if(y.api.getSchema().canonicalURL===l){k(y);y=m[e._key];e._containerId=y.id;y.num+=1;w=true;h.loaded=true}});return w}(e.url)){E.id=e._containerId=p.guid(r);r="#"+E.id;u.appendChild(E);i.trigger("documentready");h.load(n,
{width:d,height:D,sidebar:N,text:C,pdf:H,showAnnotations:a,zoom:b,search:o,container:r,afterLoad:e.page||e.aid?function(l){k(l);e._changeView(l);E.style.visibility="hidden";l.elements.pages.hide();s()}:function(l){k(l);s();E.style.visibility="hidden";l.elements.pages.hide()}})}}function g(){window.DV.loaded?c():setTimeout(g,25)}var h=window.DV=window.DV||{},i=this;if(h.loading)g();else{h.loading=true;h.recordHit="//www.documentcloud.org/pixel.gif";var j=f.createElement("link"),q=f.getElementsByTagName("head")[0];
j.rel="stylesheet";j.type="text/css";j.media="screen";j.href="//s3.documentcloud.org/viewer/viewer-datauri.css";q.appendChild(j);h.loaded=false;p.getScript("http://s3.documentcloud.org/viewer/viewer.js",function(){h.loading=false;c()})}e.toString=function(){return e.src||e._natives.manifest.options.src["default"]}},start:function(e,c){var g=f.getElementById(c._containerId),h=DV.viewers[c._key];(c.page||c.aid)&&h&&c._changeView(h);if(g&&h){g.style.visibility="visible";h.elements.pages.show()}},end:function(e,
c){var g=f.getElementById(c._containerId);if(g&&DV.viewers[c._key]){g.style.visibility="hidden";DV.viewers[c._key].elements.pages.hide()}},_teardown:function(e){var c=f.getElementById(e._containerId);if((e=e._key)&&DV.viewers[e]&&--m[e].num===0){for(DV.viewers[e].api.unload();c.hasChildNodes();)c.removeChild(c.lastChild);c.parentNode.removeChild(c)}}})})(Popcorn,window.document);(function(p){function f(c){return String(c).replace(/&(?!\w+;)|[<>"']/g,function(g){return e[g]||g})}function m(c,g){var h=c.container=document.createElement("div"),i=h.style,j=c.media,q=function(){var k=c.position();i.fontSize="18px";i.width=j.offsetWidth+"px";i.top=k.top+j.offsetHeight-h.offsetHeight-40+"px";i.left=k.left+"px";setTimeout(q,10)};h.id=g||"";i.position="absolute";i.color="white";i.textShadow="black 2px 2px 6px";i.fontWeight="bold";i.textAlign="center";q();c.media.parentNode.appendChild(h);
return h}var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};p.plugin("text",{manifest:{about:{name:"Popcorn Text Plugin",version:"0.1",author:"@humphd"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},text:{elem:"input",type:"text",label:"Text","default":"Popcorn.js"},escape:{elem:"input",type:"checkbox",label:"Escape"},multiline:{elem:"input",type:"checkbox",label:"Multiline"}}},_setup:function(c){var g,h,i=c._container=document.createElement("div");
i.style.display="none";if(c.target)if(g=p.dom.find(c.target)){if(["VIDEO","AUDIO"].indexOf(g.nodeName)>-1)g=m(this,c.target+"-overlay")}else g=m(this,c.target);else g=this.container?this.container:m(this);c._target=g;h=c.escape?f(c.text):c.text;h=c.multiline?h.replace(/\r?\n/gm,"<br>"):h;i.innerHTML=h||"";g.appendChild(i);c.toString=function(){return c.text||c._natives.manifest.options.text["default"]}},start:function(c,g){g._container.style.display="inline"},end:function(c,g){g._container.style.display=
"none"},_teardown:function(c){var g=c._target;g&&g.removeChild(c._container)}})})(Popcorn);(function(p){var f=1;p.plugin("timeline",function(m){var e=document.getElementById(m.target),c=document.createElement("div"),g,h=true;if(e&&!e.firstChild){e.appendChild(g=document.createElement("div"));g.style.width="inherit";g.style.height="inherit";g.style.overflow="auto"}else g=e.firstChild;c.style.display="none";c.id="timelineDiv"+f;m.direction=m.direction||"up";if(m.direction.toLowerCase()==="down")h=false;if(e&&g)h?g.insertBefore(c,g.firstChild):g.appendChild(c);f++;c.innerHTML="<p><span id='big' style='font-size:24px; line-height: 130%;' >"+
m.title+"</span><br /><span id='mid' style='font-size: 16px;'>"+m.text+"</span><br />"+m.innerHTML;return{start:function(i,j){c.style.display="block";if(j.direction==="down")g.scrollTop=g.scrollHeight},end:function(){c.style.display="none"},_teardown:function(){g&&c&&g.removeChild(c)&&!g.firstChild&&e.removeChild(g)}}},{about:{name:"Popcorn Timeline Plugin",version:"0.1",author:"David Seifried @dcseifried",website:"dseifried.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},
end:{elem:"input",type:"number",label:"End"},target:"feed-container",title:{elem:"input",type:"text",label:"Title"},text:{elem:"input",type:"text",label:"Text"},innerHTML:{elem:"input",type:"text",label:"HTML Code",optional:true},direction:{elem:"select",options:["DOWN","UP"],label:"Direction",optional:true}}})})(Popcorn);var wikiCallback;
(function(p){p.plugin("wikipedia",{manifest:{about:{name:"Popcorn Wikipedia Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},lang:{elem:"input",type:"text",label:"Language","default":"english",optional:true},src:{elem:"input",type:"url",label:"Wikipedia URL","default":"http://en.wikipedia.org/wiki/Cat"},title:{elem:"input",type:"text",label:"Title","default":"Cats",optional:true},
numberofwords:{elem:"input",type:"number",label:"Number of Words","default":"200",optional:true},target:"wikipedia-container"}},_setup:function(f){var m,e=p.guid();if(!f.lang)f.lang="en";f.numberofwords=f.numberofwords||200;window["wikiCallback"+e]=function(c){f._link=document.createElement("a");f._link.setAttribute("href",f.src);f._link.setAttribute("target","_blank");f._link.innerHTML=f.title||c.parse.displaytitle;f._desc=document.createElement("p");m=c.parse.text["*"].substr(c.parse.text["*"].indexOf("<p>"));
m=m.replace(/((<(.|\n)+?>)|(\((.*?)\) )|(\[(.*?)\]))/g,"");m=m.split(" ");f._desc.innerHTML=m.slice(0,m.length>=f.numberofwords?f.numberofwords:m.length).join(" ")+" ...";f._fired=true};f.src&&p.getScript("//"+f.lang+".wikipedia.org/w/api.php?action=parse&props=text&redirects&page="+f.src.slice(f.src.lastIndexOf("/")+1)+"&format=json&callback=wikiCallback"+e);f.toString=function(){return f.src||f._natives.manifest.options.src["default"]}},start:function(f,m){var e=function(){if(m._fired){if(m._link&&
m._desc)if(document.getElementById(m.target)){document.getElementById(m.target).appendChild(m._link);document.getElementById(m.target).appendChild(m._desc);m._added=true}}else setTimeout(function(){e()},13)};e()},end:function(f,m){if(m._added){document.getElementById(m.target).removeChild(m._link);document.getElementById(m.target).removeChild(m._desc)}},_teardown:function(f){if(f._added){f._link.parentNode&&document.getElementById(f.target).removeChild(f._link);f._desc.parentNode&&document.getElementById(f.target).removeChild(f._desc);
delete f.target}}})})(Popcorn);(function(p){p.plugin("footnote",{manifest:{about:{name:"Popcorn Footnote Plugin",version:"0.2",author:"@annasob, @rwaldron",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},text:{elem:"input",type:"text",label:"Text"},target:"footnote-container"}},_setup:function(f){var m=p.dom.find(f.target);f._container=document.createElement("div");f._container.style.display="none";f._container.innerHTML=f.text;m.appendChild(f._container)},
start:function(f,m){m._container.style.display="inline"},end:function(f,m){m._container.style.display="none"},_teardown:function(f){var m=p.dom.find(f.target);m&&m.removeChild(f._container)}})})(Popcorn);(function(p){var f={},m=0,e=document.createElement("span"),c=["webkit","Moz","ms","O",""],g=["Transform","TransitionDuration","TransitionTimingFunction"],h={},i;document.getElementsByTagName("head")[0].appendChild(e);for(var j=0,q=g.length;j<q;j++)for(var k=0,s=c.length;k<s;k++){i=c[k]+g[j];if(i in e.style){h[g[j].toLowerCase()]=i;break}}document.getElementsByTagName("head")[0].appendChild(e);p.plugin("wordriver",{manifest:{about:{name:"Popcorn WordRiver Plugin"},options:{start:{elem:"input",type:"number",
label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"wordriver-container",text:{elem:"input",type:"text",label:"Text","default":"Popcorn.js"},color:{elem:"input",type:"text",label:"Color","default":"Green",optional:true}}},_setup:function(n){n._duration=n.end-n.start;var r;if(!(r=f[n.target])){r=n.target;f[r]=document.createElement("div");var u=document.getElementById(r);u&&u.appendChild(f[r]);f[r].style.height="100%";f[r].style.position="relative";r=f[r]}n._container=r;n.word=document.createElement("span");
n.word.style.position="absolute";n.word.style.whiteSpace="nowrap";n.word.style.opacity=0;n.word.style.MozTransitionProperty="opacity, -moz-transform";n.word.style.webkitTransitionProperty="opacity, -webkit-transform";n.word.style.OTransitionProperty="opacity, -o-transform";n.word.style.transitionProperty="opacity, transform";n.word.style[h.transitionduration]="1s, "+n._duration+"s";n.word.style[h.transitiontimingfunction]="linear";n.word.innerHTML=n.text;n.word.style.color=n.color||"black"},start:function(n,
r){r._container.appendChild(r.word);r.word.style[h.transform]="";r.word.style.fontSize=~~(30+20*Math.random())+"px";m%=r._container.offsetWidth-r.word.offsetWidth;r.word.style.left=m+"px";m+=r.word.offsetWidth+10;r.word.style[h.transform]="translateY("+(r._container.offsetHeight-r.word.offsetHeight)+"px)";r.word.style.opacity=1;setTimeout(function(){r.word.style.opacity=0},(r.end-r.start-1||1)*1E3)},end:function(n,r){r.word.style.opacity=0},_teardown:function(n){var r=document.getElementById(n.target);
n.word.parentNode&&n._container.removeChild(n.word);f[n.target]&&!f[n.target].childElementCount&&r&&r.removeChild(f[n.target])&&delete f[n.target]}})})(Popcorn);(function(p){function f(e,c){var g={};g[e]=c;return g}function m(e){e=e.split(":");try{var c=e[2].split(",");if(c.length===1)c=e[2].split(".");return parseFloat(e[0],10)*3600+parseFloat(e[1],10)*60+parseFloat(c[0],10)+parseFloat(c[1],10)/1E3}catch(g){return 0}}p.parser("parseSRT",function(e){var c={title:"",remote:"",data:[]},g=[],h=0,i=0,j,q,k,s;e=e.text.split(/(?:\r\n|\r|\n)/gm);for(h=e.length-1;h>=0&&!e[h];)h--;k=h+1;for(h=0;h<k;h++){s={};q=[];s.id=parseInt(e[h++],10);j=e[h++].split(/[\t ]*--\>[\t ]*/);
s.start=m(j[0]);i=j[1].indexOf(" ");if(i!==-1)j[1]=j[1].substr(0,i);for(s.end=m(j[1]);h<k&&e[h];)q.push(e[h++]);s.text=q.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,"");s.text=s.text.replace(/</g,"&lt;").replace(/>/g,"&gt;");s.text=s.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>");s.text=s.text.replace(/\\N/gi,"<br />");g.push(f("subtitle",s))}c.data=g;return c})})(Popcorn);(function(p){p.parser("parseJSON","JSON",function(f){var m={title:"",remote:"",data:[]};p.forEach(f.data,function(e){m.data.push(e)});return m})})(Popcorn);(function(p){p.parser("parseTTXT",function(f){var m={title:"",remote:"",data:[]},e=function(j){j=j.split(":");var q=0;try{return parseFloat(j[0],10)*60*60+parseFloat(j[1],10)*60+parseFloat(j[2],10)}catch(k){q=0}return q},c=function(j,q){var k={};k[j]=q;return k};f=f.xml.lastChild.lastChild;for(var g=Number.MAX_VALUE,h=[];f;){if(f.nodeType===1&&f.nodeName==="TextSample"){var i={};i.start=e(f.getAttribute("sampleTime"));i.text=f.getAttribute("text");if(i.text){i.end=g-0.001;h.push(c("subtitle",i))}g=
i.start}f=f.previousSibling}m.data=h.reverse();return m})})(Popcorn);(function(p){function f(c,g){var h=c.substr(10).split(","),i;i={start:m(h[g.start]),end:m(h[g.end])};if(i.start===-1||i.end===-1)throw"Invalid time";var j=n.call(k,/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),q=j.replace,k;k=h.length;n=[];for(var s=g.text;s<k;s++)n.push(h[s]);k=n.join(",");var n=k.replace;i.text=q.call(j,/\\N/gi,"<br />");return i}function m(c){var g=c.split(":");if(c.length!==10||g.length<3)return-1;return parseInt(g[0],10)*3600+parseInt(g[1],10)*60+parseFloat(g[2],10)}function e(c,
g){var h={};h[c]=g;return h}p.parser("parseSSA",function(c){var g={title:"",remote:"",data:[]},h=[],i=0,j;c=c.text.split(/(?:\r\n|\r|\n)/gm);for(j=c.length;i<j&&c[i]!=="[Events]";)i++;var q=c[++i].substr(8).split(", "),k={},s,n;n=0;for(s=q.length;n<s;n++)if(q[n]==="Start")k.start=n;else if(q[n]==="End")k.end=n;else if(q[n]==="Text")k.text=n;for(;++i<j&&c[i]&&c[i][0]!=="[";)try{h.push(e("subtitle",f(c[i],k)))}catch(r){}g.data=h;return g})})(Popcorn);(function(p){p.parser("parseSBV",function(f){var m={title:"",remote:"",data:[]},e=[],c=0,g=0,h=function(n){n=n.split(":");var r=n.length-1,u;try{u=parseInt(n[r-1],10)*60+parseFloat(n[r],10);if(r===2)u+=parseInt(n[0],10)*3600}catch(E){throw"Bad cue";}return u},i=function(n,r){var u={};u[n]=r;return u};f=f.text.split(/(?:\r\n|\r|\n)/gm);for(g=f.length;c<g;){var j={},q=[],k=f[c++].split(",");try{j.start=h(k[0]);for(j.end=h(k[1]);c<g&&f[c];)q.push(f[c++]);j.text=q.join("<br />");e.push(i("subtitle",j))}catch(s){for(;c<
g&&f[c];)c++}for(;c<g&&!f[c];)c++}m.data=e;return m})})(Popcorn);(function(p){p.parser("parseXML","XML",function(f){var m={title:"",remote:"",data:[]},e={},c=function(k){k=k.split(":");if(k.length===1)return parseFloat(k[0],10);else if(k.length===2)return parseFloat(k[0],10)+parseFloat(k[1]/12,10);else if(k.length===3)return parseInt(k[0]*60,10)+parseFloat(k[1],10)+parseFloat(k[2]/12,10);else if(k.length===4)return parseInt(k[0]*3600,10)+parseInt(k[1]*60,10)+parseFloat(k[2],10)+parseFloat(k[3]/12,10)},g=function(k){for(var s={},n=0,r=k.length;n<r;n++){var u=k.item(n).nodeName,
E=k.item(n).nodeValue,D=e[E];if(u==="in")s.start=c(E);else if(u==="out")s.end=c(E);else if(u==="resourceid")for(var d in D){if(D.hasOwnProperty(d))if(!s[d]&&d!=="id")s[d]=D[d]}else s[u]=E}return s},h=function(k,s){var n={};n[k]=s;return n},i=function(k,s,n){var r={};p.extend(r,s,g(k.attributes),{text:k.textContent||k.text});s=k.childNodes;if(s.length<1||s.length===1&&s[0].nodeType===3)if(n)e[r.id]=r;else m.data.push(h(k.nodeName,r));else for(k=0;k<s.length;k++)s[k].nodeType===1&&i(s[k],r,n)};f=f.documentElement.childNodes;
for(var j=0,q=f.length;j<q;j++)if(f[j].nodeType===1)f[j].nodeName==="manifest"?i(f[j],{},true):i(f[j],{},false);return m})})(Popcorn);(function(p){function f(e){var c=e.split(":");e=e.length;var g;if(e!==12&&e!==9)throw"Bad cue";e=c.length-1;try{g=parseInt(c[e-1],10)*60+parseFloat(c[e],10);if(e===2)g+=parseInt(c[0],10)*3600}catch(h){throw"Bad cue";}return g}function m(e,c){var g={};g[e]=c;return g}p.parser("parseVTT",function(e){var c={title:"",remote:"",data:[]},g=[],h=0,i=0,j,q;e=e.text.split(/(?:\r\n|\r|\n)/gm);i=e.length;if(i===0||e[0]!=="WEBVTT")return c;for(h++;h<i;){j=[];try{for(var k=h;k<i&&!e[k];)k++;h=k;var s=e[h++];k=
void 0;var n={};if(!s||s.indexOf("--\>")===-1)throw"Bad cue";k=s.replace(/--\>/," --\> ").split(/[\t ]+/);if(k.length<2)throw"Bad cue";n.id=s;n.start=f(k[0]);n.end=f(k[2]);for(q=n;h<i&&e[h];)j.push(e[h++]);q.text=j.join("<br />");g.push(m("subtitle",q))}catch(r){for(h=h;h<i&&e[h];)h++;h=h}}c.data=g;return c})})(Popcorn);(function(p){function f(i,j,q){var k=i.firstChild;i=m(i,q);q=[];for(var s;k;){if(k.nodeType===1)if(k.nodeName==="p")q.push(e(k,j,i));else if(k.nodeName==="div"){s=c(k.getAttribute("begin"));if(s<0)s=j;q.push.apply(q,f(k,s,i))}k=k.nextSibling}return q}function m(i,j){var q=i.getAttribute("region");return q!==null?q:j||""}function e(i,j,q){var k={};k.text=(i.textContent||i.text).replace(g,"").replace(h,"<br />");k.id=i.getAttribute("xml:id")||i.getAttribute("id");k.start=c(i.getAttribute("begin"),j);
k.end=c(i.getAttribute("end"),j);k.target=m(i,q);if(k.end<0){k.end=c(i.getAttribute("duration"),0);if(k.end>=0)k.end+=k.start;else k.end=Number.MAX_VALUE}return{subtitle:k}}function c(i,j){var q;if(!i)return-1;try{return p.util.toSeconds(i)}catch(k){for(var s=i.length-1;s>=0&&i[s]<="9"&&i[s]>="0";)s--;q=s;s=parseFloat(i.substring(0,q));q=i.substring(q);return s*({h:3600,m:60,s:1,ms:0.001}[q]||-1)+(j||0)}}var g=/^[\s]+|[\s]+$/gm,h=/(?:\r\n|\r|\n)/gm;p.parser("parseTTML",function(i){var j={title:"",
remote:"",data:[]};if(!i.xml||!i.xml.documentElement)return j;i=i.xml.documentElement.firstChild;if(!i)return j;for(;i.nodeName!=="body";)i=i.nextSibling;if(i)j.data=f(i,0);return j})})(Popcorn);(function(p,f){f.player("soundcloud",{_canPlayType:function(m,e){return typeof e==="string"&&f.HTMLSoundCloudAudioElement._canPlaySrc(e)&&m.toLowerCase()!=="audio"}});f.soundcloud=function(m,e,c){typeof console!=="undefined"&&console.warn&&console.warn("Deprecated player 'soundcloud'. Please use Popcorn.HTMLSoundCloudAudioElement directly.");var g=f.HTMLSoundCloudAudioElement(m);m=f(g,c);setTimeout(function(){g.src=e},0);return m}})(window,Popcorn);(function(p,f){var m=function(e,c){return typeof c==="string"&&f.HTMLYouTubeVideoElement._canPlaySrc(c)};f.player("youtube",{_canPlayType:m});f.youtube=function(e,c,g){typeof console!=="undefined"&&console.warn&&console.warn("Deprecated player 'youtube'. Please use Popcorn.HTMLYouTubeVideoElement directly.");var h=f.HTMLYouTubeVideoElement(e);e=f(h,g);setTimeout(function(){h.src=c},0);return e};f.youtube.canPlayType=m})(window,Popcorn);(function(p,f){f.player("vimeo",{_canPlayType:function(m,e){return typeof e==="string"&&f.HTMLVimeoVideoElement._canPlaySrc(e)}});f.vimeo=function(m,e,c){typeof console!=="undefined"&&console.warn&&console.warn("Deprecated player 'vimeo'. Please use Popcorn.HTMLVimeoVideoElement directly.");var g=f.HTMLVimeoVideoElement(m);m=f(g,c);setTimeout(function(){g.src=e},0);return m}})(window,Popcorn);
